!function(){var e=window.TT_CFG={},t=location.protocol+"//"+location.host+"/";e.login={switchState:!1,YY:{authUrl:t+"udb_web/udbport2.php?do=authorizeEmbedURL",callbackUrl:t+"udb_web/udbport2.php?do=callback",OAuthUrl:t+"udb_web/udbport2.php?do=dummy3AuthorizeURL&loginType={type}",logoutUrl:t+"udb_web/udbport2.php?do=logout",regUrl:t+"udb_web/udbport2.php?do=registerEmbedURL&registerUrl=https://zc.yy.com/reg/udb/reg4udb.do&type={type}"}},e.req={userInfo:function(){return $.getJSON(t+"udb_web/udbport2.php?do=checkLogin")},userNick:function(){return $.getJSON(t+"udb_web/udbport2.php?do=checkUserNick")},userAvatar:function(e){return $.ajax({url:"//user.huya.com/user/getUserInfo",data:{uid:e},dataType:"jsonp",cache:!0})}}}(),!function(e){e.HUYA_UTIL={trim:function(e){var t=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;return(e||"").replace(t,"")},xssFilter:function(e){return"string"!=typeof e?e:e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},createStyleSheet:function(e){var t;return document.createStyleSheet?(t=document.createStyleSheet(),t.cssText=e):(t=document.createElement("style"),t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)),t},deleteCookie:function(e,t,a){if(this.hasCookie(e)){var i=new Date;i.setTime(i.getTime()-864e5),document.cookie=e+"=_; expires="+i.toGMTString()+"; domain="+t+"; path="+a}},writeCookie:function(e,t,a,i,n){var o=e+"="+t+"; domain="+a+"; path="+i;n>0&&(o=o+"; expires="+n.toGMTString()),document.cookie=o},hasCookie:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t)return!0}return!1},getCookieVal:function(e){for(var t=document.cookie.split("; "),a=0;a<t.length;a+=1){var i=t[a].split("=");if(i[0]==e)return decodeURIComponent(i[1])}return""},getScript:function(e,t){function a(){o.onload=o.onreadystatechange=null,o=null,"function"==typeof t&&t()}var i=document,n=i.head||i.getElementsByTagName("head")[0]||i.documentElement,o=i.createElement("script");"onload"in o?o.onload=a:o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&a()},o.charset="utf-8",o.type="text/javascript",o.async=!0,o.src=e,n.appendChild(o)},throttle:function(e,t){function a(){o=arguments,r=this,n||(n=setTimeout(function(){n=null,e.apply(r,o),r=o=null},i?0:t),i&&(i=!1))}var i=!0,n=null,o=null,r=null;return a.cancel=function(){clearTimeout(n),n=r=o=null},a},debounce:function(e,t,a){var i=null,n=function(){i&&clearTimeout(i);var n=this,o=arguments;return a?(i||e.apply(n,o),i=setTimeout(function(){i=null},t)):i=setTimeout(function(){i=null,e.apply(n,o)},t),n};return n.cancel=function(){clearTimeout(i),i=null},n},isMobile:function(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?!0:!1}(),extend:function(e,t){for(var a in t)"undefined"!=typeof t[a]&&t.hasOwnProperty(a)&&(e[a]=t[a]);return e}}}(window),!function(){var e={};e.env=e.type=0,location.search.replace(/TT_ENV=(.)/,function(t,a){var i=parseInt(a,10);return isNaN(i)||(e.env=i),t}),e.isProd=0==e.env,e.debug=!e.isProd,e.log=function(){var t=!1;try{t=!!localStorage.getItem("TT_DEBUG")}catch(a){}return e.debug||t?console.log.apply(console,arguments):void 0},e.domain={main:"www.huya.com",i:"i.huya.com",hd:"hd.huya.com"},e.app={main:location.protocol+"//"+e.domain.main+"/",act:location.protocol+"//"+e.domain.main+"/act/",i:"http://"+e.domain.i+"/",hd:"http://"+e.domain.hd+"/"},e.domainForWriteCookie="huya.duowan.com"==location.host?"duowan.com":"huya.com",e.trimUrl=function(e){return $.trim(e).replace(/^http\:/,"")},window.TT=e}(),TT.Event=function(){function e(){return{fired:!1,data:[],callbacks:new $.Callbacks}}function t(){function t(t,a,i){if(!o(t)||!n(a))return this;var r=l[t]||(l[t]=new e);return r.callbacks.add(a),i&&r.fired&&a.apply(this,r.data),this}function a(t){if(!o(t))return this;var n=l[t]||(l[t]=new e);return n.fired=!0,n.data=i.call(arguments,1),n.callbacks.fireWith(this,n.data),"ALL"!==t&&a.apply(this,["ALL"].concat(i.call(arguments))),this}function r(e,t){var a=arguments.length;if(0===a)for(var i in l)l.hasOwnProperty(i)&&l[i].callbacks.empty();else if(o(e)){var r=l[e];r&&(1===a?r.callbacks.empty():n(t)&&r.callbacks.remove(t))}return this}function s(e,a,i){if(!o(e)||!n(a))return this;var s=function(){a.apply(this,arguments),r(e,s)};t(e,s,i)}var l={};return{on:t,one:s,off:r,emit:a}}var a=[],i=a.slice,n=function(e){return"function"==typeof e},o=function(e){return"string"==typeof e};return t}(),TT.event=new TT.Event,function(){var e={},t={},a=-1;e.publish=function(e){var a=arguments;t[e]||(t[e]={published:!1,data:null,subscribers:[]});var i=t[e];i.published=!0,i.data=Array.prototype.slice.call(a);for(var n=i.subscribers.length,o=null;n--;)o=i.subscribers[n],o.func.apply(o,a);return!0},e.subscribe=function(e,i,n){if("function"!=typeof i)return-1;t[e]||(t[e]={published:!1,data:null,subscribers:[]});var o=(++a).toString(),r={token:o,func:i};return t[e].subscribers.push(r),n&&t[e].published&&i.apply(r,t[e].data),o},e.unsubscribe=function(e){for(var a in t)if(t.hasOwnProperty(a))for(var i=t[a].subscribers,n=0,o=i.length;o>n;n++){var r=i[n];if(r.token===e)return i.splice(n,1),e}return!1},TT.on=function(){e.subscribe.apply(e,arguments)},TT.off=function(){e.unsubscribe.apply(e,arguments)},TT.emit=function(){e.publish.apply(e,arguments)},window.DUYA_SUB=e}(),!function(e,t,a){function i(t){if(!(this instanceof i))return new i(t);udb=this;var n=a.lazyPromise(function(e){r().done(function(){e.call(udb,new HyLogin(t))})}),o=function(e){return function(){var t=arguments;n(function(a){"function"==typeof a[e]&&a[e].apply(a,t)})}},s=["login","logout","register","on","off","once"];e.each(s,function(e,t){udb[t]=o(t)})}var n=a.lazyLoadScript("https://udbres.huya.com/js/HyUDBWebSDK-1.3.js?_="+Math.floor(1e10*Math.random())),o=a.lazyLoadScript("https://udbres.huya.com/js/HyLoginSDK.js?_="+Math.floor(1e10*Math.random())),r=function(){return e.when(n(),o())};i.loadAssets=r,t.TT_HUYA_SDK=i}(jQuery,window,function(){var e={},t=e.once=function(e){var t,a;return function(){return a||(a=!0,t=e.apply(this,arguments)),t}},a=e.lazyPromise=function(e){var a=t(function(){var t=new $.Deferred;return e(function(){t.resolveWith(this,arguments)}),function(e){return t.done(e).promise()}});return function(e){return a()(e)}},i=e.getScript=function(e,t){function a(){o.onload=o.onreadystatechange=null,o=null,"function"==typeof t&&t()}var i=document,n=i.head||i.getElementsByTagName("head")[0]||i.documentElement,o=i.createElement("script");"onload"in o?o.onload=a:o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&a()},o.charset="utf-8",o.type="text/javascript",o.async=!0,o.src=e,n.appendChild(o)};return e.lazyLoadScript=function(e){return a(function(t){i(e,t)})},e}()),!function(e,t,a,i){function n(e){function r(t){var a=e.OAuthUrl.replace("{type}",t);p=window.open(a,"_blank"),p.focus()}if(!(this instanceof n))return new n(e);var s=t.extend(this,new i),l=s.ready=a.lazyPromise(function(e){o(function(){var t=document.getElementById("udbsdk_login_content");t||(t=document.createElement("div"),t.id="udbsdk_login_content",document.body.appendChild(t)),t.style.display="none";try{UDB.sdk.PCWeb.initialize()}catch(a){}s.loginView=t,e.call(s)})}),c=window.NAV_UTIL?window.NAV_UTIL:window.NAV_UTIL={},d=-1==e.authUrl.indexOf(location.host);s.login=function(){var a=t.ajax({type:d?"GET":"POST",url:e.authUrl,data:{callbackURL:e.callbackUrl},dataType:d?"jsonp":"json"});t.when(a,l()).done(function(t){var a=t[0];a&&(s.loginView.style.display="block",UDB.sdk.PCWeb.embedOpenLgn(a,e.callbackUrl),s.emit("loginOpen"))})},c.UDBLoginCallback=function(){s.emit("verifySuccess")},TT.on("UDB_LOGIN_SUCCESS",function(e,t){s.emit("loginSuccess",t)});var p=null;s.loginByWX=function(){r("weixin")},s.loginByQQ=function(){r("qq")},s.loginByWB=function(){r("weibo")},c.reloadPage=function(){p&&p.close(),s.emit("loginOAuthCallback")},c.loginFail=function(e){p&&p.close(),s.emit("loginOAuthFail",e)},s.logout=function(a){var i=t.ajax({type:"GET",url:e.logoutUrl,dataType:d?"jsonp":"text"});t.when(i,l()).done(function(e){var t=e[0];t&&UDB.sdk.PCWeb.deleteCrossmainCookieWithCallBack(t,function(){!a&&s.emit("logoutSuccess")})})},s.registerPhone=function(a,i){t.ajax({url:e.regUrl.replace("{type}","Mobile"),type:d?"GET":"POST",dataType:d?"jsonp":"json"}).done(function(e){"1"==e.success?a&&a(e):i&&i(e)})},s.registerMail=function(a,i){t.ajax({url:e.regUrl.replace("{type}","Email"),type:d?"GET":"POST",dataType:d?"jsonp":"json"}).done(function(e){"1"==e.success?a&&a(e):i&&i(e)})}}var o=a.lazyLoadScript("//res.udb.duowan.com/lgn/js/oauth/udbsdk/pcweb/udb.sdk.pcweb.embed.min.js?_=2333");n.loadAssets=o,e.TT_YYUDB=n}(window,jQuery,function(){var e={},t=e.once=function(e){var t,a;return function(){return a||(a=!0,t=e.apply(this,arguments)),t}},a=e.lazyPromise=function(e){var a=t(function(){var t=new $.Deferred;return e(function(){t.resolveWith(this,arguments)}),function(e){return t.done(e).promise()}});return function(e){return a()(e)}},i=e.getScript=function(e,t){function a(){o.onload=o.onreadystatechange=null,o=null,"function"==typeof t&&t()}var i=document,n=i.head||i.getElementsByTagName("head")[0]||i.documentElement,o=i.createElement("script");"onload"in o?o.onload=a:o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&a()},o.charset="utf-8",o.type="text/javascript",o.async=!0,o.src=e,n.appendChild(o)};return e.lazyLoadScript=function(e){return a(function(t){i(e,t)})},e}(),TT.Event),window.TT_YYLOGIN=function(udb){var html=function(obj){var __p="";with(Array.prototype.join,obj||{})__p+='<div class="huya-login-box" id="J_huyaLoginBox">\r\n    <div class="login-box">\r\n        <div class="login">\r\n            <div class="login-main">\r\n                <div class="login-hd">\r\n                    <a class="tab-btn">\u767b\u5f55</a>\r\n                    <a class="tab-btn">\u6ce8\u518c</a>\r\n                    <i class="line J_line"></i>\r\n                </div>\r\n                <div class="login-bd">\r\n                    <div class="login-content">\r\n                        <div class="tab-unit">\r\n                            <div id="login-tab">\r\n                                <h2 class="login-title">\u5e10\u53f7\u767b\u5f55</h2>\r\n                                <div class="login-view" id="J_loginView"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="tab-unit">\r\n                            <div class="register-tab">               \r\n                                <iframe frameborder="0" scrolling="no" allowtransparency="true" height="370"></iframe>\r\n                                <!-- <div><a class="reg-by-mail" href="#">\u4f7f\u7528\u90ae\u7bb1\u6ce8\u518c&gt;</a></div> -->\r\n                            </div>\r\n                            <div class="register-tab">\r\n                                <iframe frameborder="0" scrolling="no" allowtransparency="true" height="370"></iframe>\r\n                                <div><a class="reg-by-phone" href="#">\u4f7f\u7528\u624b\u673a\u6ce8\u518c&gt;</a></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <i class="login-loading J_loading"></i>\r\n                </div>\r\n            </div>\r\n            <div class="login-sidebar">\r\n                <h2 class="title">\u5408\u4f5c\u8d26\u53f7\u767b\u5f55</h2>\r\n                <div class="other-login">\r\n                    <a class="login-btn login-btn-wechat clickstat" eid="click/nav/weixinlogin" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u5fae\u4fe1\u8d26\u53f7\u767b\u5f55"><i class="icon"></i>\u5fae\u4fe1\u5e10\u53f7\u767b\u5f55</a>\r\n                    <a class="login-btn login-btn-qq clickstat" eid="click/nav/qqlogin" eid_desc="\u70b9\u51fb/\u5bfc\u822a/QQ\u8d26\u53f7\u767b\u5f55" login-type="qq"><i class="icon"></i>QQ\u5e10\u53f7\u767b\u5f55</a>\r\n                    <a class="login-btn login-btn-weibo clickstat" eid="click/nav/weibologin" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u65b0\u6d6a\u5fae\u535a\u767b\u5f55" login-type="weibo"><i class="icon"></i>\u5fae\u535a\u5e10\u53f7\u767b\u5f55</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <a class="login-close" id="js-login-close" title="\u5173\u95ed"></a>\r\n        <p class="login-wran-tip">\u4f7f\u7528\u5373\u4e3a\u540c\u610f\u300a<a class="warn-link" href="http://blog.huya.com/product/90" target="_blank" title="\u864e\u7259\u8f6f\u4ef6\u7528\u6237\u534f\u8bae">\u864e\u7259\u8f6f\u4ef6\u7528\u6237\u534f\u8bae</a>\u300b</p>\r\n    </div>\r\n    <div class="account-login-mask"></div>\r\n</div>\r\n';return __p}(),box={init:function(){$("body").append(html),udb.ready(function(){$("#J_loginView").append(udb.loginView)}),this.view=$("#J_huyaLoginBox"),this.bind()},bind:function(){var e=this;this.view.on("click",".login-btn-qq",function(e){e.preventDefault(),udb.loginByQQ()}).on("click",".login-btn-weibo",function(e){e.preventDefault(),udb.loginByWB()}).on("click",".login-btn-wechat",function(e){e.preventDefault(),udb.loginByWX()}),this.view.on("click","#js-login-close",function(t){t.preventDefault(),e.close()})},open:function(){this.view.show()},close:function(){this.view.hide()}},tab={init:function(){var e=this,t=$("#J_huyaLoginBox");this.index=-1,this.navItem=t.find(".tab-btn"),this.unit=t.find(".tab-unit"),this.line=t.find(".J_line"),this.navItem.on("click",function(t){t.preventDefault(),e.go($(this).index())})},changeCallbacks:[],go:function(e){if(this.index!==e){this.index=e,this.navItem.removeClass("active").eq(e).addClass("active"),this.unit.hide().eq(e).show(),this.line.css("left",80*e);for(var t=0,a=this.changeCallbacks.length;a>t;t++)this.changeCallbacks[t](e)}},change:function(e){"function"==typeof e&&this.changeCallbacks.push(e)}},regTab={init:function(){var e=this;this.index=-1,this.unit=$(".register-tab"),$(".reg-by-phone").on("click",function(t){t.preventDefault(),e.go(0)}),$(".reg-by-mail").on("click",function(t){t.preventDefault(),e.go(1)})},go:function(e){if(this.index!==e){this.index=e,this.unit.hide().eq(e).show();var t=$("#J_huyaLoginBox").find(".J_loading");this.unit.find("iframe").each(function(a){var i=this;a===e?(t.show(),0===e?udb.registerPhone(function(e){i.src=e.url,t.hide()}):udb.registerMail(function(e){i.src=e.url,t.hide()})):i.src="about:blank"})}}};tab.change(function(e){var t=$("#J_huyaLoginBox").find(".J_loading");0===e?(t.show(),udb.on("loginOpen",function(){t.hide()}),udb.on("verifySuccess",function(){box.close()}),udb.login()):$("#udbsdk_frm_normal").attr("src","about:blank")}),tab.change(function(e){1===e&&-1===regTab.index&&regTab.go(0)});var ready=function(){function e(){a||(a=!0,$(function(){for(box.init(),tab.init(),regTab.init(),t=!0;i.length;)i.shift()()}))}var t,a,i=[];return function(a){"function"==typeof a&&(e(),t?a():i.push(a))}}();return{login:function(){ready(function(){box.open(),tab.go(0)})},register:function(e){ready(function(){switch(box.open(),tab.go(1),e){case"EMAIL":regTab.go(1);break;default:regTab.go(0)}})},close:function(){ready(function(){box.close()})}}},window.TT_YY_SDK=function(e){var t=new TT_YYUDB(e),a=new TT_YYLOGIN(t);return $.extend({},t,a)},function(){function e(e){var n,o=this,r=function(){var t=$.Deferred();if(e.switchState){var a=HUYA_UTIL.getCookieVal("udb_passdata");a?t.resolve(1==a?"YY":"TT"):($.ajax({type:"get",url:(TT.isProd?"https://udbapi":"//udbapi-test")+'.huya.com/web/hy/bypass/getBypass?request={"uri":"50001","version":"1.3","context":"WB---","appId":"5002","lcid":"2052","byPass":"1","requestId":"41290051","data":{}}',dataType:"JSONP"}).done(function(e){e&&e.data&&"bypass"in e.data?(HUYA_UTIL.writeCookie("udb_passdata",e.data.bypass,TT.domainForWriteCookie,"/"),t.resolve(1==e.data.bypass?"YY":"TT")):t.resolve("YY")}).fail(function(){t.resolve("YY")}),setTimeout(function(){t.resolve("YY")},3500))}else t.resolve("YY");return function(e){t.done(e)}}(),s={TT:t(a),YY:t(i)},l=function(t){n=s[t](e[t])};r(function(e){l(e)}),o.use=l,$.each(["login","logout","register"],function(e,t){o[t]=function(){var e=arguments;r(function(){"function"==typeof n[t]&&n[t].apply(n,e)})}})}var t=function(e){var t,a;return function(){return a||(a=!0,t=e.apply(this,arguments)),t}},a=function(e){var t=new TT_HUYA_SDK(e);return t.on("loginSuccess",function(){window.location.reload()}),t.on("loginFail",function(){window.location.reload()}),t.on("loginAuthSuccess",function(){window.location.reload()}),t.on("loginAuthFail",function(){window.location.reload()}),t.on("logoutSuccess",function(){window.location.reload()}),t.on("logoutFail",function(){window.location.reload()}),{login:function(){t.login()},logout:function(e){t.logout(e)},register:function(){t.register()}}},i=function(e){var t=new TT_YY_SDK(e);return t.on("loginOAuthCallback",function(){window.location.reload()}),t.on("loginOAuthFail",function(e){if(e&&"MUTE"===e.code){var t=$("body"),a='<div id="login-closure"><div class="login-closure-tit">'+e.data.title+'<span id="login-closure-close"></span></div><div class="login-closure-cnt">'+e.data.msg+'</div><span id="login-closure-sure">\u786e\u5b9a</span></div>';t.append(a),t.append('<div id="login-closure-mask"></div>'),$("#login-closure-sure,#login-closure-close").one("click",function(){$("#login-closure-mask").remove(),$("#login-closure").remove()})}}),t.on("logoutSuccess",function(){-1!=TT.app.i.indexOf(location.hostname)?location.href=TT.app.main:window.location.reload()}),{login:function(){t.login()},logout:function(e){t.logout(e)},register:function(){t.register()}}};TT.login=new e(TT_CFG.login),TT.login.check=function(){var e=t(function(){var e=new $.Deferred;return TT_CFG.req.userInfo().done(function(t){e.resolve(t.isLogined,t)}),e.promise()});return function(t){var a=e();return a.done(t),a}}()}(),!function(e){e.webpReg=/\/yysnapshot\//,e.webpSuffix="/format/webp",e.isSupportWebp=function(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")?0===e.toDataURL("image/webp").indexOf("data:image/webp"):!1}()}(window),!function(e,t){e.huya_crossStorage=TT.store=t()}(this,function(){function e(e,t,a){var i={sign:c,type:e,data:t};"get"===e&&(i.token="f_"+(new Date).getTime()+Math.floor(1e9*Math.random()),d[i.token]=a);var n="";try{n=JSON.stringify(i)}catch(o){}n&&p(function(e){e.postMessage(n,"*")})}function t(e){if(/\.huya\.com$/.test(e.origin)){var t=null;try{t=JSON.parse(e.data)}catch(a){}if(t&&t.sign===c&&t.token)if("STORE_CHANGE"===t.token)for(var i=0,n=l.length;n>i;i++)l[i](t.data);else d[t.token](t.data),d[t.token]=null}}var a={setItem:function(){},getItem:function(){},removeItem:function(){},clear:function(){},change:function(){}},i=function(e){return"function"==typeof e},n=function(e){return"string"==typeof e},o=function(e){return"undefined"==typeof e},r="postMessage"in window,s="localStorage"in window;if(!r)return s&&(a=localStorage,a.change=function(e){i(e)&&window.addEventListener&&window.addEventListener("storage",e)}),a;a.setItem=function(t,a){if(t&&n(t)&&!o(a)){var i={};i[t]=a,e("set",i)}},a.getItem=function(t,a){t&&n(t)&&i(a)&&e("get",t,a)},a.removeItem=function(t){t&&n(t)&&e("del",t)},a.clear=function(){e("del")};var l=[];a.change=function(e){i(e)&&(l.push(e),p())};var c="CROSS_STORAGE",d={};"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t);var p=function(){var e=null,t=null,a=!1,n=[],o=function(){a=!0,t=e.contentWindow;for(var i=0,o=n.length;o>i;i++)n[i](t)};return function(r){e||(e=document.createElement("iframe"),e.style.display="none",document.body.insertBefore(e,document.body.firstChild),e.attachEvent?e.attachEvent("onload",o):e.onload=o,e.src="//www.huya.com/act/proxy/storage.html"),i(r)&&(a?r(t):n.push(r))}}();return a}),function(){function e(e){var t,a;return function(){return a||(a=!0,t=e.apply(this,arguments)),t}}TT.getUserInfo=function(){var t=e(function(){var e=new $.Deferred;return TT.login.check(function(t,a){if(t){var i={},n={},o=a.userNick?(new $.Deferred).resolve([{}]):TT_CFG.req.userNick();$.when(TT_CFG.req.userAvatar(a.uid),o).done(function(e,t){i=e[0]&&200==e[0].code&&e[0].data?e[0].data:{},n=t[0]||{}}).fail(function(){try{console.log("\u516c\u5171\u5934\uff1a\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01")}catch(e){}}).always(function(){var t=$.extend(!0,{},a);t.userNick=n.userNick||a.userNick||a.userName,t.userLogo=i.avatar||n.userLogo||a.userLogo||"//a.msstatic.com/huya/main/img/10001.jpg",e.resolve(t)})}else e.resolve(a)}),e.done(function(e){window.a_userIsLogin=e.isLogined,window.a_userName=e.userName}),e.promise()});return function(e){var a=t();return a.done(e),a}}(),TT.sudo=function(e,t){TT.login.check(function(a){a?TT.getUserInfo(e):t!==!1&&TT.login.login()})}}(),!function(){var e=window.HUYA_UTIL;window.NAV_UTIL=window.NAV_UTIL?window.NAV_UTIL:window.NAV_UTIL={},NAV_UTIL.login=function(){TT.login.login()},NAV_UTIL.logout=function(){TT.login.logout()},NAV_UTIL.getStatus=function(e){TT.getUserInfo(function(){"function"==typeof e&&e()})},NAV_UTIL.isLogin=function(){return e.hasCookie("username")},NAV_UTIL.getUserInfo=function(){return NAV_UTIL.isLogin()?{uName:e.getCookieVal("username"),yyID:e.getCookieVal("yyuid")}:null},NAV_UTIL.checkLogin=function(e){TT.sudo(function(t){"function"==typeof e&&e(t.uid,t.userName)})},NAV_UTIL.check=TT.getUserInfo}(),$(function(){function formatData(e,t){return e.replace(/#\{(.*?)\}/g,function(e,a){return t&&a in t?t[a]:""})}var CSS_TEXT='@charset "UTF-8"; .admin-icon{display:inline-block;width:16px;height:16px;background:url(//a.msstatic.com/huya/main/img/fangguan-icon_55e2395.png) no-repeat}.admin-icon-0{background-position:0 0}.admin-icon-1{background-position:0 -16px}.noble-icon{width:19px;height:20px;float:left;_display:inline;margin:3px 5px 0 10px;background:url(//a.msstatic.com/huya/main/img/guizu-icon_2bce6ff.png) no-repeat}.noble-level-6{background-position:0 0}.noble-level-5{background-position:0 -23px}.noble-level-4{background-position:0 -50px}.noble-level-3{background-position:0 -76px}.noble-level-2{background-position:0 -101px}.noble-level-1{background-position:0 -126px}.level-icon{display:inline-block;width:22px;height:11px;background:url(//a.msstatic.com/huya/main/img/level_sprite_d76323b.png) no-repeat}.level-icon0{background-position:0 0}.level-icon1{background-position:0 -11px}.level-icon2{background-position:0 -22px}.level-icon3{background-position:0 -33px}.level-icon4{background-position:0 -44px}.level-icon5{background-position:0 -55px}.level-icon6{background-position:0 -66px}.level-icon7{background-position:0 -77px}.level-icon8{background-position:0 -88px}.level-icon9{background-position:0 -99px}.level-icon10{background-position:0 -110px}.level-icon11{background-position:0 -121px}.level-icon12{background-position:0 -132px}.level-icon13{background-position:0 -143px}.level-icon14{background-position:0 -154px}.level-icon15{background-position:0 -165px}.level-icon16{background-position:0 -176px}.level-icon17{background-position:0 -187px}.level-icon18{background-position:0 -198px}.level-icon19{background-position:0 -209px}.level-icon20{background-position:0 -220px}.level-icon21{background-position:0 -231px}.level-icon22{background-position:0 -242px}.level-icon23{background-position:0 -253px}.level-icon24{background-position:0 -264px}.level-icon25{background-position:0 -275px}.level-icon26{background-position:0 -286px}.level-icon27{background-position:0 -297px}.level-icon28{background-position:0 -308px}.level-icon29{background-position:0 -319px}.level-icon30{background-position:0 -330px}.level-icon31{background-position:0 -341px}.level-icon32{background-position:0 -352px}.level-icon33{background-position:0 -363px}.level-icon34{background-position:0 -374px}.level-icon35{background-position:0 -385px}.level-icon36{background-position:0 -396px}.level-icon37{background-position:0 -407px}.level-icon38{background-position:0 -418px}.level-icon39{background-position:0 -429px}.level-icon40{background-position:0 -440px}@-webkit-keyframes scale-in-ease{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1) perspective(1200px);transform:scale(1) perspective(1200px)}}@keyframes scale-in-ease{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1) perspective(1200px);transform:scale(1) perspective(1200px)}}@-webkit-keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(0.215,.61,.355,1);animation-timing-function:cubic-bezier(0.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}}@keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(0.215,.61,.355,1);animation-timing-function:cubic-bezier(0.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}}.duya-header .m-reddot{display:inline-block;width:8px;height:8px;overflow:hidden;border-radius:50%;background:#FC4040}.duya-header .nav-user .nav-expand-list{-webkit-transform-origin:80% 0;transform-origin:80% 0;-webkit-animation:scale-in-ease cubic-bezier(.22,.58,.12,.98) .5s;animation:scale-in-ease cubic-bezier(.22,.58,.12,.98) .5s}.tt-user-card{position:relative;width:320px;padding:10px 10px 0;word-wrap:normal}.tt-user-card a{color:#666}.tt-user-card a:hover{color:#ff630e;text-decoration:none}.tt-user-card .loading{background:url(//a.msstatic.com/huya/main/img/header/user_card/loading_00ef871.gif) no-repeat 50%}.tt-user-card .btn-exit{position:absolute;top:10px;right:15px;vertical-align:top}.tt-user-card .btn-exit i{vertical-align:top;margin:2px 5px 0 0}.tt-user-card .btn-exit span{display:inline-block;vertical-align:top}.tt-user-card .u-info .avatar{display:block;position:relative;width:60px;height:60px;margin:0 auto}.tt-user-card .u-info .avatar img{width:100%;height:100%;border-radius:50%}.tt-user-card .u-info .avatar i{position:absolute;right:0;bottom:0}.tt-user-card .u-info .user-sign{text-align:center;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.tt-user-card .u-info .user-sign .edit_sign{background:url(//a.msstatic.com/huya/main/img/header/user_card/edit_sign_0f9e283.png) no-repeat 2px 2px;padding-left:20px}.tt-user-card .u-info .nick{text-align:center;margin-top:5px;font-size:14px;color:#555}.tt-user-card .u-info .nick span{display:inline-block}.tt-user-card .u-info .nick .level-icon{margin-left:3px}.tt-user-card .u-info .nick .gender{display:inline-block;width:12px;height:12px;background:url(//a.msstatic.com/huya/main/img/header/user_card/female_5476ac0.png) no-repeat center center;margin-left:3px}.tt-user-card .u-info .nick .gender1{background:url(//a.msstatic.com/huya/main/img/header/user_card/male_5a4944a.png) no-repeat center center}.tt-user-card .u-info .exp{margin-top:15px}.tt-user-card .u-info .exp .between{line-height:15px;text-align:center}.tt-user-card .u-info .exp .between .from,.tt-user-card .u-info .exp .between .to,.tt-user-card .u-info .exp .between .bar-cnt{display:inline-block;vertical-align:middle}.tt-user-card .u-info .exp .between .bar-cnt{position:relative}.tt-user-card .u-info .exp .between .bar-cnt:hover #J_huyaNavUserCardBarInfo{display:block}#J_huyaNavUserCardBarInfo{position:absolute;top:-42px;left:-25px;width:262px;height:44px;background:url(//a.msstatic.com/huya/main/img/header/user_card/bar-info_f0a6b36.png) no-repeat;color:#333;text-align:center;line-height:38px;display:none}#J_huyaNavUserCardBarInfo em{color:#f80}.tt-user-card .u-info .exp .between .bar{float:left;position:relative;z-index:1;width:220px;height:15px;overflow:hidden;margin:0 5px;border-radius:8px;background:#ECECEC;color:#666;text-align:center}.tt-user-card .u-info .exp .between .bar i{position:absolute;z-index:22;left:0;top:0;display:block;width:0;height:100%;overflow:hidden;background:#FE8800;-webkit-transition:all .5s ease-out;transition:all .5s ease-out}.tt-user-card .u-info .exp .between .bar i b{display:block;width:220px;height:100%;color:#fff;font-weight:400}.tt-user-card .u-info .exp .between .bar span{position:relative;z-index:11}.tt-user-card .u-assets{margin-top:20px;color:#555}.tt-user-card .u-assets .bd:before,.tt-user-card .u-assets .bd:after{display:table;content:\'\'}.tt-user-card .u-assets .bd:after{clear:both}.tt-user-card .u-assets .type-name{float:left;font-size:14px;margin-right:15px;line-height:18px}.tt-user-card .u-assets .type{float:left;width:215px;overflow:hidden;white-space:nowrap}.tt-user-card .u-assets .type li{float:left;margin-right:10px}.tt-user-card .u-assets .type li i{display:inline-block;vertical-align:top}.tt-user-card .u-assets .type li i.gold-bean{width:15px;height:16px;background:url(//a.msstatic.com/huya/main/img/header/user_card/b_0fb99b5.png)}.tt-user-card .u-assets .type li i.gold-ticket{width:22px;height:14px;background:url(//a.msstatic.com/huya/main/img/header/user_card/a_5ed73db.png)}.tt-user-card .u-assets .type li i.silver-bean{width:15px;height:16px;background:url(//a.msstatic.com/huya/main/img/header/user_card/c_01c53b1.png)}.tt-user-card .u-assets .type li em{display:inline-block;line-height:18px;margin-left:3px;vertical-align:top}.tt-user-card .u-assets .type li.type-ticket{margin-top:2px}.tt-user-card .u-assets .type li.type-ticket em{line-height:14px}.tt-user-card .u-assets .topup{float:right;line-height:18px;padding:1px 8px;border-radius:9px;background:#f80;color:#fff}.tt-user-card .u-assets .topup:hover{color:#fff;background:#FF9821}.tt-user-card .u-task{margin-top:15px;min-height:100px}.tt-user-card .u-task .task-mod{border-top:1px solid #ECECEC}.tt-user-card .u-task .task-mod .mod-hd{height:40px;zoom:1}.tt-user-card .u-task .task-mod .mod-hd:before,.tt-user-card .u-task .task-mod .mod-hd:after{display:table;content:\'\'}.tt-user-card .u-task .task-mod .mod-hd:after{clear:both}.tt-user-card .u-task .task-mod .mod-bd{}.tt-user-card .u-task .task-mod .mod-hd .mod-more{float:right;margin-top:10px}.tt-user-card .u-task .task-mod .mod-hd .mod-more i{font-family:\\5b8b\\4f53;padding-left:3px}.tt-user-card .u-task .task-mod .mod-tit{float:left;line-height:40px;font-size:14px;color:#555}.tt-user-card .u-task .task-mod .mod-tit i{width:16px;height:17px;background:url(//a.msstatic.com/huya/main/img/header/user_card/task-icon_4cb58a1.png);float:left;margin:11px 5px 0 0}.tt-user-card .u-task .task-mod .mod-tit .new{color:#fff;background:#fc4040;padding:0 3px;border-radius:10px;font-size:12px;height:15px;line-height:13px;display:inline-block;margin-left:5px}.tt-user-card .u-task .task-mod .task-icon{display:inline-block;width:50px;height:50px}.tt-user-card .u-task .task-mod .task-icon img{width:100%;height:100%;border-radius:50%}.tt-user-card .u-task .task-mod .task-icon i{display:table-cell;width:50px;height:50px;background:#FE8800;border-radius:50%;vertical-align:middle;text-align:center}.tt-user-card .u-task .task-mod .task-icon i:after{display:inline-block;vertical-align:middle;content:""}.tt-user-card .u-task .task-mod .task-icon i.icon-avatar:after{width:21px;height:24px;background:url(//a.msstatic.com/huya/main/img/header/user_card/e_fdd07d2.png)}.tt-user-card .u-task .task-mod .task-icon i.icon-follow:after{width:24px;height:22px;background:url(//a.msstatic.com/huya/main/img/header/user_card/f_2e598f1.png)}.tt-user-card .u-task .task-mod .task-icon i.icon-phone:after{width:17px;height:24px;background:url(//a.msstatic.com/huya/main/img/header/user_card/g_7c1eeea.png)}.tt-user-card .u-task .task-mod .task-icon i.icon-award:after{width:21px;height:23px;background:url(//a.msstatic.com/huya/main/img/header/user_card/d_6b069fc.png)}.tt-user-card .u-task .task-novice{color:#555}.tt-user-card .u-task .task-novice .tasks{zoom:1}.tt-user-card .u-task .task-novice .tasks:before,.tt-user-card .u-task .task-novice .tasks:after{content:\'\';display:table}.tt-user-card .u-task .task-novice .tasks:after{clear:both}.tt-user-card .u-task .task-novice .tasks li{float:left;width:24.9%;text-align:center;position:relative}.tt-user-card .u-task .task-novice .tasks li .m-reddot{position:absolute;top:0;left:53px}.tt-user-card .u-task .task-novice .tasks .task-name{margin-top:3px}.tt-user-card .u-task .task-novice .tasks .task-btn{display:inline-block;margin-top:8px;line-height:20px;padding:0 10px;border-radius:10px;min-width:3em;color:#fff;white-space:nowrap}.tt-user-card .u-task .task-novice .tasks .task-btn:hover{color:#fff}.tt-user-card .u-task .task-novice .tasks .task-btn.get{color:#f80;border:1px solid;cursor:pointer}.tt-user-card .u-task .task-novice .tasks .task-btn.get.disable{background:#bbb!important}.tt-user-card .u-task .task-novice .tasks .task-btn.get:hover{background:#f80;color:#fff}.tt-user-card .u-task .task-novice .tasks .task-btn.done{background:url(//a.msstatic.com/huya/main/img/header/user_card/done_7c57877.png) no-repeat 14px 2px;cursor:default;color:#87c138;padding-left:30px}.tt-user-card .u-task .task-novice .tasks .task-btn.ing{background:url(//a.msstatic.com/huya/main/img/header/user_card/ing_0b05446.png) no-repeat 14px 2px;cursor:default;color:#999;padding-left:30px}.tt-user-card .u-task .task-novice .tasks .task-btn.active{background:#8BE1D2;color:#fff;-webkit-animation-name:bounceIn;animation-name:bounceIn;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.tt-user-card .u-task .task-alldone{height:100px;background:url(//a.msstatic.com/huya/main/img/header/user_card/all-done_36a3b1d.png) no-repeat center 10px}.tt-user-card .u-task .open-task-days{width:218px;height:28px;color:#f80;line-height:28px;text-align:center;border:1px solid;margin:0 auto 15px;border-radius:25px;cursor:pointer}.tt-user-card .u-task .open-task-days:hover{background:#fff9f3}.tt-user-card .u-task .task-days{}.tt-user-card .u-task .task-days .tasks{height:90px;margin-bottom:-12px;overflow:hidden}.tt-user-card .u-task .task-days .tasks li{color:#777;margin-bottom:12px;overflow:hidden;line-height:18px;position:relative}.tt-user-card .u-task .task-days .tasks .m-reddot{position:absolute;top:0;left:14px}.tt-user-card .u-task .task-days .tasks .icon{float:left;width:18px;height:18px;overflow:hidden;margin-right:5px}.tt-user-card .u-task .task-days .tasks .icon-a{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/a_ca03e92.png)}.tt-user-card .u-task .task-days .tasks .icon-b{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/b_e3810de.png)}.tt-user-card .u-task .task-days .tasks .icon-c{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/c_dcab508.png)}.tt-user-card .u-task .task-days .tasks .icon-d{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/d_50c5d92.png)}.tt-user-card .u-task .task-days .tasks .icon-e{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/e_a8b2105.png)}.tt-user-card .u-task .task-days .tasks .icon-f{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/f_bc936bc.png)}.tt-user-card .u-task .task-days .tasks .icon-g{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/g_afa9671.png)}.tt-user-card .u-task .task-days .tasks .icon-h{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/h_4e2388d.png)}.tt-user-card .u-task .task-days .tasks .icon-i{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/i_a4a1d45.png)}.tt-user-card .u-task .task-days .tasks .icon-j{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/j_d478059.png)}.tt-user-card .u-task .task-days .tasks .icon-k{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/k_65fe18d.png)}.tt-user-card .u-task .task-days .tasks .icon-l{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/l_2a34c9a.png)}.tt-user-card .u-task .task-days .tasks .icon-m{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/m_8177ccc.png)}.tt-user-card .u-task .task-days .tasks .icon-n{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/n_a2b9ea3.png)}.tt-user-card .u-task .task-days .tasks .icon-o{background:url(//a.msstatic.com/huya/main/img/header/user_card/icon/o_5732644.png)}.tt-user-card .u-task .task-days .tasks .tit{float:left;font-size:14px;max-width:12em;white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.tt-user-card .u-task .task-days .tasks .exp-num{float:left;margin-left:3px;font-size:14px;color:#87C138}.tt-user-card .u-task .task-days .tasks .status{float:right}.tt-user-card .u-task .task-days .tasks .status .status-ing{display:inline-block;position:relative;line-height:18px;min-width:30px;text-align:center;padding-left:22px}.tt-user-card .u-task .task-days .tasks .status .status-ing:before{position:absolute;content:"";left:0;top:0;width:18px;height:18px;overflow:hidden;background:url(//a.msstatic.com/huya/main/img/header/user_card/ing_0b05446.png)}.tt-user-card .u-task .task-days .tasks .status .status-done{display:inline-block;position:relative;line-height:18px;min-width:30px;text-align:center;padding-left:22px}.tt-user-card .u-task .task-days .tasks .status .status-done:before{position:absolute;content:"";left:0;top:0;width:18px;height:18px;overflow:hidden;background:url(//a.msstatic.com/huya/main/img/header/user_card/done_7c57877.png)}.tt-user-card .u-task .task-days .tasks .status .status-get{display:inline-block;line-height:18px;min-width:50px;border-radius:10px;text-align:center;color:#f80;border:1px solid;cursor:pointer}.tt-user-card .u-task .task-days .tasks .status .status-get:hover{background:#f80;color:#fff}.tt-user-card .u-task .task-days .tasks .status .status-get.disable{background:#bbb}.tt-user-card .u-task .task-days .tasks .status .status-get.active{background:#8BE1D2;color:#fff;-webkit-animation-name:bounceIn;animation-name:bounceIn;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.tt-user-card .u-links{padding-top:20px;margin-top:15px;background:#fbfbfb;position:relative;height:65px;margin-left:-10px;border-radius:0 0 5px 5px;width:340px}.tt-user-card .u-links ul{zoom:1}.tt-user-card .u-links ul:before,.tt-user-card .u-links ul:after{content:\'\';display:table}.tt-user-card .u-links ul:after{clear:both}.tt-user-card .u-links li{float:left;width:24.9%}.tt-user-card .u-links li a{display:block;text-align:center}.tt-user-card .u-links li a:hover i{background-position:0 bottom}.tt-user-card .u-links li i{display:inline-block}.tt-user-card .u-links li.links-i i{width:24px;height:24px;background:url(//a.msstatic.com/huya/main/img/header/user_card/i_66969a9.png)}.tt-user-card .u-links li.links-noble i{width:22px;height:23px;margin-top:1px;background:url(//a.msstatic.com/huya/main/img/header/user_card/l_649fc85.png)}.tt-user-card .u-links li.links-msg i{width:24px;height:20px;margin-top:4px;background:url(//a.msstatic.com/huya/main/img/header/user_card/m_cc70756.png)}.tt-user-card .u-links li.links-play i{width:24px;height:20px;margin-top:4px;background:url(//a.msstatic.com/huya/main/img/header/user_card/h_c5a5492.png)}.tt-user-card .u-links li.links-msg{position:relative}.tt-user-card .u-links li.links-msg .dot{display:none;position:absolute;right:25px;top:3px;width:8px;height:8px;overflow:hidden;background:red;border-radius:50%}@-webkit-keyframes flipX{from{z-index:444;-webkit-transform:perspective(800px) rotate3d(1,0,0,-180deg);transform:perspective(800px) rotate3d(1,0,0,-180deg)}to{-webkit-transform:perspective(800px) rotate3d(1,0,0,0deg);transform:perspective(800px) rotate3d(1,0,0,0deg);z-index:111}}@keyframes flipX{from{z-index:444;-webkit-transform:perspective(800px) rotate3d(1,0,0,-180deg);transform:perspective(800px) rotate3d(1,0,0,-180deg);-ms-transform:perspective(800px) rotate3d(1,0,0,180deg)}to{-webkit-transform:perspective(800px) rotate3d(1,0,0,0deg);transform:perspective(800px) rotate3d(1,0,0,0deg);z-index:111}}@-webkit-keyframes slideDown{from{height:170px}to{height:770px}}@keyframes slideDown{from{height:170px}to{height:770px}}.huya-login-box{display:none}.account-login-mask{z-index:20000;position:fixed;top:0;left:0;-moz-opacity:.5;opacity:.5;filter:alpha(opacity=50);background-color:#000;width:100%;height:100%;zoom:1}.login-box a{color:#333}.login-box a:hover{text-decoration:none}.login-box{position:fixed;left:50%;top:50%;margin:-174px 0 0 -260px;z-index:20001;width:520px;background:#fff;box-shadow:3px 3px 10px rgba(0,0,0,.3);border-radius:3px;font-family:"Microsoft Yahei"}.login-box .login{position:relative;padding:10px 20px;background:url(//a.msstatic.com/huya/main/img/header/login/login_bg_b2df113.jpg) bottom right no-repeat}.login-box #login-tab{position:relative}.login-box .login-title{position:absolute;top:12px;left:5px;width:100px;color:#333;font-size:16px;line-height:28px;font-weight:400}.login-box .login-hd{position:relative;font-size:18px;line-height:38px;height:38px;border-bottom:2px solid #d8d8d8}.login-hd .tab-btn{display:inline-block;width:80px;text-align:center;cursor:pointer;font-size:18px;color:#333}.login-hd .tab-btn.active,.login-hd .tab-btn:hover{color:#ff630e}.login-hd .line{position:absolute;left:0;top:38px;height:2px;width:80px;background:#ff630e;-webkit-transition:left .5s cubic-bezier(0.175,.885,.32,1.175);transition:left .5s cubic-bezier(0.175,.885,.32,1.175)}.login-box .login-bd{min-height:268px}.login-bd .tab-unit{display:none}.login-view{height:180px}.login-box .register-tab{display:none;padding-bottom:20px}.login-box .login-sidebar{position:absolute;top:64px;right:40px;padding-left:32px;height:255px;border-left:1px solid #f0f0f0}.login-sidebar .title{color:#909090;font-size:14px;line-height:32px;font-weight:400}.login-box .login-close{position:absolute;right:20px;top:20px;width:13px;height:13px;background:url(//a.msstatic.com/huya/main/img/header/login/close_1e00d96.png?__sprite);cursor:pointer}.login-box .login-wran-tip{position:absolute;right:10px;bottom:10px;color:#777;font-size:12px}.login-box .warn-link{color:#777}.login-box .warn-link:hover{text-decoration:none}.other-login{font-size:12px}.other-login .login-btn{display:block;padding-left:14px;width:111px;height:36px;line-height:36px;color:#fff;border-radius:2px;margin-bottom:15px;text-align:left;cursor:pointer}.other-login .login-btn .icon{float:left;width:22px;height:18px;margin:9px 4px 0 0}.other-login .login-btn.login-btn-wechat{background:#46c33d}.other-login .login-btn.login-btn-wechat .icon{background:url(//a.msstatic.com/huya/main/img/header/login/login_wechat_02b4b91.png?__sprite)}.other-login .login-btn.login-btn-wechat:hover{background:#4fcd46}.other-login .login-btn.login-btn-wechat:active{background:#43be3a}.other-login .login-btn.login-btn-qq{background:#3fa6ee}.other-login .login-btn.login-btn-qq .icon{background:url(//a.msstatic.com/huya/main/img/header/login/login_qq_9c61a69.png?__sprite)}.other-login .login-btn.login-btn-qq:hover{background:#46b0fa}.other-login .login-btn.login-btn-qq:active{background:#46a4e6}.other-login .login-btn.login-btn-weibo{background:#f75b66}.other-login .login-btn.login-btn-weibo .icon{background:url(//a.msstatic.com/huya/main/img/header/login/login_weibo_2db8e7b.png?__sprite)}.other-login .login-btn.login-btn-weibo:hover{background:#ff646f}.other-login .login-btn.login-btn-weibo:active{background:#f25661}#use-mail,#use-phone{color:#666;cursor:pointer}.udbsdk_frm{position:relative;z-index:333}.login-loading{display:none;position:absolute;top:45%;left:155px;width:16px;height:16px;background:url(//a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat}.duya-header{width:100%;left:0;top:0;z-index:999;position:relative;font-size:12px;line-height:1.5;font-family:"Microsoft YaHei";-webkit-backface-visibility:hidden;backface-visibility:hidden}.duya-header-wrap{background:#fff;border-bottom:1px solid #e2e2e2;box-shadow:0 0 6px rgba(0,0,0,.06)}.duya-header .mod-list-more{margin:15px 0}#duya-header-logo{position:absolute;left:0;top:7px}#duya-header-logo img{vertical-align:top;max-width:none}.duya-header-nav{margin-left:150px;float:left;height:100%}.hy-nav-link{float:left;color:#999;font-size:14px;position:relative;margin:10px 5px 0}.hy-nav-link a{color:#555;height:30px;line-height:29px;padding:0 12px;font-size:18px;display:block}.duya-header-on{background:#f80;border-radius:20px}.hy-nav-link:hover a,.duya-header-on a,.duya-header-on:hover a{text-decoration:none;background:#f80;border-radius:20px;color:#fff}.duya-header-wrap .un-login .hy-nav-title:hover{color:#666}.duya-header-wrap .un-login .un-login-btn{float:left;padding-right:10px;white-space:nowrap}.duya-header-wrap .un-login a{color:#666}.duya-header-wrap .un-login a:hover{color:#ff630e;text-decoration:none}.duya-header-wrap .hy-nav-expand{float:left;font-size:14px;color:#999;position:relative;margin:10px 0 0 5px}.hy-nav-expand .hy-nav-title{cursor:pointer;display:block;line-height:30px;*line-height:38px;max-width:118px;height:50px;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis;z-index:100;font-size:16px;position:relative}.hy-nav-expand .hy-nav-title span{white-space:nowrap;line-height:28px}.hy-nav-expand .hy-nav-title a{height:30px;line-height:29px;color:#555;display:block;padding:0 12px;font-size:18px}.hy-nav-expand .hy-nav-title a:hover{text-decoration:none}.hy-nav-expand .icon-arrow{position:absolute;top:14px;*top:18px;right:6px;width:9px;height:5px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAMAgMAAADNMn8wAAAABGdBTUEAALGPC/xhBQAAAAlQTFRFAAAAmZmZ/4gA6JZjqgAAAAF0Uk5TAEDm2GYAAAAwSURBVAjXYwgNdWAQDWVgYA1hYGAMYGBgcGCAg1WrGhi0VjEwcK1gYGBaABRoYAAAk+gGuxuRTswAAAAASUVORK5CYII=) no-repeat;*background:url(//a.msstatic.com/huya/main/img/header/header_arrow_1c31771.png) no-repeat}.duya-header-wrap .hy-nav-expand:hover .icon-arrow{background-position:0 bottom}.duya-header-wrap .hy-nav-expand:hover .icon-msg{display:none}.duya-header-wrap .nav-main .icon-arrow{right:12px;-webkit-transition:.5s -webkit-transform;transition:.5s transform}.duya-header-wrap .hy-nav-expand:hover .nav-main .icon-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.duya-header-wrap .hy-nav-expand .nav-main.hy-nav-title{height:36px;padding-right:22px}.duya-header-wrap .hy-nav-expand .nav-main.on a,.duya-header-wrap .hy-nav-expand a:hover{color:#fff;background:#f80;border-radius:20px}.duya-header-wrap .nav-expand-link{white-space:nowrap;word-break:keep-all}.duya-header-wrap .nav-expand-link a{display:inline-block;line-height:32px;padding:0 5px;color:#616161;font-size:14px;text-align:left}.duya-header-wrap .nav-expand-link a.pre-title{color:#323232}.duya-header-wrap .nav-expand-link a:hover{color:#f80;text-decoration:none}.duya-header-wrap .nav-host-link a{display:block;height:32px;padding:0 15px;color:#616161;white-space:nowrap}.duya-header-wrap .nav-host-link a:hover{color:#ff6d00;text-decoration:none}.duya-header-wrap .nav-host-link span{display:inline-block;zoom:1;vertical-align:top;margin-top:7px}#head-my-message{position:relative}#head-my-message b{width:6px;height:6px;border-radius:50%;background:#ff2b08;right:20px;top:13px;*top:11px;position:absolute;display:none}.duya-header-wrap .nav-host-link .hy-nav-i-icon{margin:8px 6px 0 0}.duya-header-wrap .nav-host-link .hy-nav-msg-icon{margin:9px 7px 0 0}.duya-header-wrap .nav-host-link .hy-nav-exit-icon{margin:8px 6px 0 0}.duya-header-wrap .duya-header-control{position:absolute;right:0;top:0}.duya-header-control .hy-nav-link a,.duya-header-control .hy-nav-title{font-size:12px;color:#ddd}.duya-header-control .nav-expand-link{padding:3px 10px 0}.nav-expand-list{position:absolute;display:none;top:35px;left:0;z-index:99;padding:0 8px 10px;background-color:#fff;border-top:2px solid #f80;box-shadow:0 3px 8px 2px rgba(1,1,1,.25);border-radius:0 0 5px 5px}.hy-nav-expand:hover .nav-expand-list{display:block}.duya-header-control .nav-expand-list{padding:0;min-width:120px;top:40px}.duya-header-wrap .nav-expand-game{width:250px;padding:15px;left:-100px}.w-1000 .hy-nav-kaibo{display:none}.duya-header-wrap .nav-expand-kaibo{display:none!important;left:-30px;padding:10px 0}.nav-expand-kaibo .kaibo-nav a{display:block;height:32px;padding:0 15px;color:#616161;white-space:nowrap}.nav-expand-kaibo .kaibo-nav .hy-nav-home-icon{margin:8px 5px 0 0}.nav-expand-kaibo .kaibo-nav .hy-nav-video-icon{margin:10px 5px 0 0}.nav-expand-kaibo .kaibo-nav span{display:inline-block;zoom:1;vertical-align:top;margin-top:7px}.nav-expand-kaibo .kaibo-nav a:hover{color:#ff6d00;text-decoration:none}.duya-header-wrap .nav-expand-download{left:-30px;padding:10px 0}.nav-expand-download .download-nav a{display:block;height:32px;padding:0 15px;color:#616161;white-space:nowrap}.nav-expand-download .download-nav .hy-nav-app-icon{margin:9px 8px 0 0}.nav-expand-download .download-nav .hy-nav-play-icon{margin:10px 5px 0 0}.nav-expand-download .download-nav .hy-nav-tv-icon{margin:10px 5px 0 0}.nav-expand-download .download-nav span{display:inline-block;zoom:1;vertical-align:top;margin-top:7px}.nav-expand-download .download-nav a:hover{color:#ff6d00;text-decoration:none}.duya-header-wrap .nav-expand-history{width:260px;left:-140px;padding:13px 0}.duya-header-wrap .nav-expand-history .arrow{left:170px}.load-history{padding-left:13px}.history-bd{padding:10px 0;border-left:1px solid #ececec}.history-hd em{float:left;width:7px;height:16px;margin:2px 0 0 -1px;background:url(//a.msstatic.com/huya/main/img/history-icon_b602d50.png) no-repeat 0 -87px}.history-bd li{padding-left:5px;height:30px;overflow:hidden;zoom:1;line-height:30px}.history-bd li:hover{background:#f5f5f5}.history-bd li:hover .close-history-li{display:none}.history-bd li em{background-image:url(//a.msstatic.com/huya/main/img/history-icon_b602d50.png);float:left;margin:8px 5px 0}.history-bd li em.pc{width:16px;height:16px}.history-bd li em.phone{width:17px;height:16px;margin-top:7px;background-position:0 -18px}.history-bd li em.web{width:16px;height:16px;background-position:0 -105px;margin-top:6px}.history-bd li em.live{width:16px;height:16px;background-position:0 -38px}.history-bd li em.notlive{width:16px;height:16px;background-position:0 -124px}.history-bd li a{display:block;color:#666;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-transition:color .2s ease-out;transition:color .2s ease-out}.history-bd li .history-nick{float:left;width:130px;color:gray;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.history-bd li a:hover{color:#f80;text-decoration:none}.history-type{float:right;padding-right:5px;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis;color:#ff9000;width:65px}.nav-expand-history-null{text-align:center}.nav-expand-history-null i{display:inline-block;zoom:1;width:50px;height:61px;background:url(//a.msstatic.com/huya/main/img/header/sprite/cry_2066174.png?__sprite)}.nav-expand-history-null span{display:inline-block;zoom:1;vertical-align:top;padding:22px 0 0 .8em}.nav-expand-history-more{display:none;height:24px;line-height:24px;color:#555;text-align:center;background:#e6e6e6;font-size:12px;border-radius:3px;width:240px;margin:10px auto 0}.nav-expand-history-more:hover{text-decoration:none;background:#ff7e00;color:#fff}.nav-expand-game dl{margin:0 -5px 5px 0}.nav-expand-game dt{margin-bottom:5px;color:#f80}.nav-expand-game dd{float:left;margin:0 5px 5px 0}.nav-expand-game dd a{display:block;width:78px;height:22px;border:1px solid #e3e7e8;text-align:center;line-height:22px;border-radius:3px;text-decoration:none;color:#666;font-size:12px;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.nav-expand-game dd a:hover{color:#fff;background:#f80;border:1px solid #f80;border-radius:3px!important}.nav-expand-game-more{height:24px;line-height:24px;display:block;color:#fff;text-align:center;background:#ff7e00;font-size:12px;border-radius:3px;margin-bottom:10px}.nav-expand-game-more span{font-family:simsun}.nav-expand-game-more:hover{text-decoration:none;color:#fff;border-radius:3px!important}.nav-expand-game img{width:250px;height:60px;border-radius:3px}.nav-subscribe{margin-right:4px}.nav-subscribe .nav-expand-list{width:252px;left:-70px;padding:0 0 13px}.nav-subscribe .nav-expand-list .arrow{left:100px}.nav-subscribe .subscribe-hd h5{padding:0 0 0 15px;color:#323232;line-height:45px;font-size:14px}.nav-subscribe .subscribe-hd em{color:#ff6d00}.nav-subscribe .subscribe-hd a{float:right;padding:0;color:#323232;line-height:16px}.nav-subscribe .subscribe-hd a:hover{color:#ff6d00;text-decoration:none}.nav-subscribe .subscribe-bd{width:252px}.subscribe-bd .video-link{display:block;height:50px;padding:5px 15px;color:#666}.subscribe-bd .video-link:hover{background:#eee;text-decoration:none;color:#ff630e}.subscribe-bd .video-link .avatar{float:left;width:50px;height:50px;overflow:hidden;position:relative}.subscribe-bd .video-link .avatar span{position:absolute;width:40px;height:18px;line-height:18px;text-align:center;color:#fff;bottom:2px;left:5px;border-radius:10px;background:#f80}.subscribe-bd .video-link .avatar img{width:100%;height:100%}.subscribe-bd .video-link .info{overflow:hidden;zoom:1;padding-left:10px}.subscribe-bd .video-link .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;word-wrap:normal;line-height:2}.subscribe-bd .video-link .other{color:#999}.subscribe-bd .video-link .game{float:left;max-width:95px;height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;word-wrap:normal}.subscribe-bd .video-link .count{float:right}.subscribe-bd .video-link .count i{float:left;margin:2px 6px 0 0;width:14px;height:12px;background:url(//a.msstatic.com/huya/main/img/header/sprite/people_icon_47727dc.png?__sprite)}.subscribe-bd .subscribe-all{display:block;margin:16px auto 0;width:220px;height:24px;text-align:center;line-height:24px;color:#666;background:#f5f5f5;text-decoration:none}.subscribe-bd .subscribe-all:hover{background:#ff9000;color:#fff}.duya-header-search{float:left;margin:10px 0 0 20px;position:relative}.duya-header-search input{border-radius:20px;border:1px solid #e0e0e0;padding:4px 26px 4px 12px;width:140px;height:20px;line-height:20px;color:#999;outline:0;font-size:12px}.duya-header-search input:focus{color:#444;border-color:#FF8A00}.duya-header-search .btn-search{position:absolute;right:3px;top:1px;height:30px;width:26px;cursor:pointer;border:0;outline:0;background-image:url(//a.msstatic.com/huya/main/img/header/sprite/search_btn_2cb16c3.png?__sprite);background-color:transparent}.duya-header-search .btn-search:hover{background-image:url(//a.msstatic.com/huya/main/img/header/sprite/search_btn_hover_ba7250f.png?__sprite);background-color:transparent}.duya-header .duya-header-tips{top:50px}.header-search-tips{position:absolute;width:180px;background-color:#fff;border:1px solid #e0e0e0;font-size:12px;box-shadow:0 3px 8px 2px rgba(1,1,1,.1);border-radius:5px}.header-search-tips li{line-height:30px;height:30px;color:#666;overflow:hidden;cursor:pointer;padding:0 15px}.header-search-tips li:hover{color:#666;background-color:#ececec}.header-search-tips .his-items em{width:14px;height:14px;text-align:center;line-height:14px;display:inline-block;background:url(//a.msstatic.com/huya/main/img/header/sprite/search_icon_8e4e036.png?__sprite);margin-right:8px;vertical-align:middle;*display:inline;*zoom:1}.header-search-tips .his-items .del-item-link{float:right;padding:0 5px;height:30px;margin-right:-5px}.header-search-tips .his-items .del-item-link span{display:inline-block;*display:block;*margin-top:12px;vertical-align:middle;width:8px;height:7px;background:url(//a.msstatic.com/huya/main/img/header/sprite/search_clear_69b8269.png?__sprite);text-indent:-9999em}.header-search-tips .clear-his-btn{display:block;width:150px;height:25px;background-color:#e6e6e6;text-align:center;line-height:25px;margin:6px auto 8px;border-radius:2px;color:#555}.header-search-tips .clear-his-btn:hover{color:#fff;background:#ff6d00;text-decoration:none}.header-search-tips .his-items-line{height:0;border-bottom:1px solid #e6e6e6;margin-bottom:6px}.header-search-tips .search-items em{width:16px;height:16px;text-align:center;line-height:16px;font-size:12px;display:inline-block;*display:inline;*zoom:1;background:#d8d8d8;color:#666;border-radius:8px;margin-right:8px}.header-search-tips .search-items em.top-item{background:#ff6d00;color:#fff}.header-search-tips .search-item-hover{color:#666;background-color:#ececec}.header-search-tips .search-tips-icon{position:absolute;top:-14px;left:10px;width:0;height:0;border:7px solid #e0e0e0;border-color:transparent transparent #e0e0e0}.duya-header-bd{width:1440px;margin:0 auto;height:49px;position:relative}.duya-header-bd .success-login,.duya-header-bd .un-login{display:none}.duya-header-tips{position:absolute;display:none;right:0;width:230px;border:1px solid #feb;padding:0 20px 0 10px;box-shadow:0 4px 9px 0 rgba(1,1,1,.08);background-color:#fffee1;zoom:1;font-size:14px;font-family:"Microsoft YaHei"}.duya-header-tips:after,.duya-header-tips:before{content:"";display:table;line-height:0}.duya-header-tips:after{clear:both}.duya-header-tips.appear-tips{display:block}.duya-header-tips p{line-height:26px}.duya-header-tips p.tips-top{display:none;line-height:36px}.duya-header-tips h5{line-height:30px;border-top:1px solid #feb;margin-top:-1px;padding-top:5px;color:#666;font-size:14px;font-weight:400}.duya-header-tips h6{color:#666;font-size:14px;line-height:24px;margin-bottom:5px;font-weight:400}.duya-header-tips h6 label{display:inline-block;vertical-align:middle;cursor:pointer}.duya-header-tips h6 input{margin-right:5px;display:inline-block;vertical-align:middle}.duya-header-tips .refresh-tips{display:none}.duya-header-tips .refresh-tips a,.duya-header-tips .refresh-tips em{vertical-align:middle}.duya-header-tips .refresh-tips span{max-width:110px;margin-right:5px;display:inline-block;vertical-align:middle;white-space:nowrap;word-wrap:normal;overflow:hidden;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.duya-header-tips #refresh-wrap{display:none}.duya-header-tips .refresh-current{cursor:pointer;color:#00a384}.duya-header-tips .refresh-current:hover{color:#00b08c}.duya-header-tips .close-tips{position:absolute;display:block;font-size:18px;width:24px;height:36px;line-height:36px;text-align:center;right:0;top:0;color:#6f6f6f;cursor:pointer}.subscribe-list{position:relative;overflow:hidden;*zoom:1}.subscribe-list:after,.subscribe-list:before{content:"";display:table;line-height:0}.subscribe-list:after{clear:both}.clearfix{*zoom:1}.clearfix:after,.clearfix:before{content:"";display:table;line-height:0}.clearfix:after{clear:both}.mod-list-more{font-size:14px;color:#3a3a3a;text-align:center}.mod-list-more .icon-loading{vertical-align:middle;display:inline-block;background:url(//a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat;width:16px;height:16px;margin-right:4px}.mod-list-more .more-empty,.mod-list-more .more-end{display:none}.mod-list-more .more-end{line-height:44px;background:#ebebeb}.mod-list-more .more-empty p{color:#323232;font-size:14px;display:inline-block;*display:inline;*zoom:1;vertical-align:middle;text-align:left}.mod-list-more .more-empty em{font-size:12px;color:#aeaeae}.mod-list-more .icon-empty{display:inline-block;*display:inline;*zoom:1;vertical-align:middle;width:40px;height:40px;background:url(//a.msstatic.com/huya/main/assets/img/pic-global.png) -155px -117px no-repeat;margin-right:0}.duya-header-wrap .arrow{position:absolute;top:-7px;left:50%;width:14px;height:7px;margin-left:-7px;background:url(//a.msstatic.com/huya/main/img/header/sprite/extand_arrow_d4b1e44.png?__sprite)}.hy-nav-right .arrow{*top:-30px}.hy-nav-right{float:left;margin-top:5px;color:#999;position:relative;height:45px}.hy-nav-right .title{padding-right:10px}.hy-nav-right .hy-nav-title:hover{color:#ff630e;text-decoration:none}.hy-nav-right .hy-nav-title{display:block;padding-top:6px;line-height:28px;text-align:center;color:#666}.duya-header .nav-user .nav-expand-list{right:0;left:auto}.duya-header .nav-user .nav-expand-list .arrow{left:auto;right:50px}.duya-header .nav-user{margin-left:15px;max-width:122px}.duya-header .nav-user .nav-user-title{display:block;position:relative;padding:5px 12px 0 0;color:#666;white-space:nowrap;word-wrap:normal}.duya-header .nav-user .nav-user-title:hover{color:#ff630e;text-decoration:none}.duya-header .nav-user .nav-user-title img{width:30px;height:30px;border-radius:50%}.duya-header .nav-user .nav-user-title span{display:inline-block;zoom:1;max-width:6em;overflow:hidden;vertical-align:top;padding-top:6px;white-space:nowrap;text-overflow:ellipsis;word-wrap:normal}.duya-header .nav-user .nav-user-title .m-reddot{display:none;position:absolute;top:4px;left:20px}.duya-header .nav-user .nav-user-title i{position:absolute;top:17.5px;right:0;width:9px;height:5px;overflow:hidden;background:url(//a.msstatic.com/huya/main/img/header/sprite/arrow_96ff8fa.png?__sprite);-webkit-transition:.5s -webkit-transform;transition:.5s transform}.duya-header .nav-user:hover .nav-user-title{color:#ff630e}.duya-header .nav-user:hover .nav-user-title i{background:url(//a.msstatic.com/huya/main/img/header/sprite/arrow_on_93c9208.png?__sprite);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.nav-history a{cursor:pointer}.hy-nav-right:hover .nav-expand-list{display:block}.hy-nav-icon{float:left;margin:7px 5px 0 10px;width:16px;height:16px;cursor:pointer}.hy-nav-login-icon{width:15px;background:url(//a.msstatic.com/huya/main/img/header/sprite/login_icon_6f62803.png?__sprite);cursor:default}.hy-nav-subscribe-icon{background:url(//a.msstatic.com/huya/main/img/header/sprite/sub_icon_64c78f3.png?__sprite)}.hy-nav-history-icon{background:url(//a.msstatic.com/huya/main/img/header/sprite/history_icon_0c54ba8.png?__sprite)}.hy-nav-download-icon{width:16px;height:15px;margin-top:6px;background:url(//a.msstatic.com/huya/main/img/header/sprite/download_icon_1694aff.png?__sprite)}.hy-nav-app-icon{width:12px;height:16px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/app_icon_dbc1cde.png?__sprite)}.hy-nav-video-icon{height:14px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/video_icon_b88efdf.png?__sprite)}.hy-nav-home-icon{display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/home_icon_3df1c05.png?__sprite)}.hy-nav-play-icon{width:16px;height:13px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/play_icon_ac54361.png?__sprite)}.hy-nav-tv-icon{width:16px;height:14px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/tv_icon_c88b931.png?__sprite)}.hy-nav-i-icon{width:16px;height:16px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/i_icon_cd39286.png?__sprite)}.hy-nav-exit-icon{width:17px;height:15px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/exit_icon_4e89f84.png?__sprite)}.hy-nav-msg-icon{width:16px;height:15px;display:inline-block;zoom:1;background:url(//a.msstatic.com/huya/main/img/header/sprite/msg_icon_f2278a9.png?__sprite)}.duya-header-wrap .icon-msg{width:5px;height:5px;display:inline-block;position:absolute;top:16px;right:19px;background:url(//a.msstatic.com/huya/main/assets/img/pic-global.png) -77px -8px no-repeat}.w-1000 .duya-header-bd{width:1000px}.huya-header-box{display:none;position:fixed;border:1px solid #e1e1e1;border-top:2px solid #ff630e;border-radius:4px;font-family:"Microsoft YaHei";background:#fff;z-index:1111}.huya-header-box .hd{position:relative;height:39px;line-height:39px;color:#333;padding-left:16px;border-bottom:1px solid #eee}.huya-header-box .tip{font-size:14px}.huya-header-box .close{position:absolute;width:11px;height:11px;top:14px;right:19px;background-image:url(//a.msstatic.com/huya/main/img/header/tip/close_e22dbb9.png?__sprite);cursor:pointer}.browser-box{width:498px;padding-bottom:48px}.browser-box .title-pic{margin:28px auto 0;width:365px;height:29px;background:url(//a.msstatic.com/huya/main/img/header/tip/title_8fc8736.png?__sprite)}.browser-box .desc{margin-top:13px;text-align:center;color:#666;font-size:12px;line-height:18px}.browser-box .browser-list{padding:22px 0 0 12px}.browser-box .browser-item{float:left;padding-top:12px;width:232px;text-align:center}.browser-box .name{margin-top:6px;font-size:14px;line-height:18px}.browser-box .link{display:block;margin:0 auto;width:80px;height:80px}.browser-box .browser-sougou{border-right:1px solid #eee}.browser-box .browser-sougou .link{background-image:url(//a.msstatic.com/huya/main/img/header/tip/sougou_f2cf7a6.png?__sprite)}.browser-box .browser-chrome .link{background-image:url(//a.msstatic.com/huya/main/img/header/tip/chrome_5870eca.png?__sprite)}.browser-box .download{display:block;margin:15px auto 0;width:100px;height:34px;color:#fff;text-align:center;line-height:34px;border-radius:2px;background:#ff8a00;text-decoration:none}.browser-box .download:hover{background:#ff630e}.duya-header-gg{float:left;padding-left:20px;height:100%;max-width:200px;overflow:hidden}.huya-head-notice{position:fixed;right:15px;bottom:-200px;width:328px;height:198px;border-radius:2px;background:#fff;color:#777;border:1px solid #e8e8e8;box-shadow:2px 2px 12px rgba(0,0,0,.12),-2px -2px 12px rgba(0,0,0,.12);font-size:14px;z-index:10001}.huya-head-notice .notice-hd{position:relative;height:32px;line-height:32px;margin:0 10px;border-bottom:1px solid #efefef}.huya-head-notice .notice-tip{position:absolute;right:30px;top:0;font-size:12px;color:#9f9f9f}.huya-head-notice .notice-icon{float:left;margin:8px 5px 0 0;width:18px;height:17px;background:url(//a.msstatic.com/huya/main/img/header/live_notice_icon_14e77c8.png?__sprite)}.huya-head-notice .notice-title{color:#f80}.huya-head-notice .notice-close{position:absolute;right:2px;top:12px;width:10px;height:9px;background:url(//a.msstatic.com/huya/main/img/header/live_notice_close_e9f8100.png?__sprite);cursor:pointer}.huya-head-notice .notice-bd{padding:17px;line-height:20px}.huya-head-notice .anchor-name{font-size:12px;color:#555;margin-bottom:2px;word-wrap:normal;-ms-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-weight:400}.huya-head-notice .anchor-nick{font-size:14px;color:#f80;word-wrap:normal;-ms-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.huya-head-notice .notice-pic{float:left;width:90px;height:90px;margin-right:16px;position:relative}.huya-head-notice .notice-pic img{width:100%;height:100%}.huya-head-notice .notice-pic .notice-gameFullName{position:absolute;top:0;left:0;padding:0 5px;font-size:12px;color:#fff;background:#000;background:rgba(0,0,0,.5);word-wrap:normal;-ms-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:70px}.huya-head-notice .notice-content{font-size:12px;line-height:20px;height:60px;overflow:hidden;display:-webkit-box;text-overflow:ellipsis;-webkit-line-clamp:3;-webkit-box-orient:vertical}.huya-head-notice .notice-btn{position:absolute;right:15px;bottom:15px;width:100px;height:30px;line-height:30px;background:#f80;color:#fff;text-align:center;border-radius:14px;cursor:pointer}.huya-head-notice .notice-btn:hover{background:#f70;text-decoration:none}.huya-head-notice.normal-notice{width:268px;height:180px}.huya-head-notice.normal-notice .notice-content,.huya-head-notice.subscribe-notice .notice-content{height:40px;-webkit-line-clamp:2}.w-1000 .duya-header-gg{display:none}#login-closure,#offline-notice{position:fixed;left:50%;top:50%;width:440px;height:210px;margin:-105px 0 0 -220px;background:#fff;z-index:999999;border-radius:3px;font-size:14px}.login-closure-tit{position:relative;height:38px;line-height:38px;border-top:2px solid #f80;border-bottom:1px solid #eee;border-radius:3px 3px 0 0;padding-left:15px;color:#333}#login-closure-close,#offline-notice-close{position:absolute;top:13px;right:18px;width:13px;height:12px;background:url(//a.msstatic.com/huya/main/img/close_01ce46f.png) no-repeat;cursor:pointer}.login-closure-cnt{color:#777;padding:22px 27px 0}.login-closure-cnt a{color:#46a1fe}#login-closure-sure,#offline-notice-sure{position:absolute;left:50%;bottom:25px;margin-left:-50px;width:100px;height:34px;line-height:34px;text-align:center;background:#f80;color:#fff;border-radius:5px;cursor:pointer}#login-closure-sure:hover,#offline-notice-sure:hover{background:#f99523}#login-closure-mask,#offline-notice-mask{z-index:99999;position:fixed;top:0;left:0;opacity:.5;filter:alpha(opacity=50);background-color:#000;width:100%;height:100%;zoom:1}',HEAD_TPL=function(obj){{var __p="";
Array.prototype.join}with(obj||{})__p+='<div class="duya-header" id="duya-header">\r\n    <div class="duya-header-wrap clearfix">\r\n        <div class="duya-header-bd clearfix">\r\n            <h1 id="duya-header-logo" title="\u864e\u7259\u76f4\u64ad-\u864e\u7259TV-\u4e2d\u56fd\u9886\u5148\u7684\u4e92\u52a8\u76f4\u64ad\u5e73\u53f0">\r\n                <a href="http://www.huya.com/" class="clickstat" eid="click/navi/logo" eid_desc="\u70b9\u51fb/\u5bfc\u822a/logo"><img src="//a.msstatic.com/huya/main/img/logo.png" alt="\u864e\u7259\u76f4\u64ad" width="120" height="36"></a>\r\n            </h1>\r\n            <div class="duya-header-nav">\r\n                <span class="hy-nav-link"><a href="#{host}" class="hy-nav-title clickstat" eid="click/navi/home" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u9996\u9875">\u9996\u9875</a></span>\r\n                <span class="hy-nav-link"><a href="#{host}l" class="hy-nav-title hiido_stat clickstat"  hiido_code="10004221" hiido_code="10004221" eid="click/navi/zhibo" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u76f4\u64ad">\u76f4\u64ad</a></span>\r\n                <div class="hy-nav-expand">\r\n                    <div class="hy-nav-title nav-main" id="nav-main"><a href="#{host}g">\u5206\u7c7b</a><i class="icon-arrow"></i></div>   \r\n                    <div class="nav-expand-list nav-expand-game">\r\n                        <i class="arrow"></i>\r\n                    </div>\r\n                </div>\r\n                <!-- <span class="hy-nav-link"><a href="http://v.huya.com" class="hy-nav-title hiido_stat clickstat" hiido_code="10004227" target="_blank" eid="click/navi/video" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u89c6\u9891">\u89c6\u9891</a></span> -->\r\n            </div>\r\n            <div class="duya-header-search clearfix">\r\n                <form method="get" id="searchForm_id" name="navSearchForm" action="#{host}search.php" target="_blank">\r\n                    <input type="text" name="hsk" value="\u4e3b\u64ad\u3001\u9891\u9053\u3001\u6e38\u620f" autocomplete="off">\r\n                    <button type="submit" class="btn-search clickstat" eid="click/search/searchbutton" eid_desc="\u70b9\u51fb/\u641c\u7d22/\u641c\u7d22\u6309\u94ae"></button>\r\n                </form>\r\n            </div>\r\n            <div class="duya-header-gg clickstat" id="J_duyaHdGg" eid="click/push/navipic" eid_desc="\u70b9\u51fb/\u63a8\u8350/\u9876\u90e8\u5bfc\u822a\u56fe\u7247"></div>\r\n            <div class="duya-header-control clearfix">\r\n                <div class="hy-nav-right hy-nav-kaibo">\r\n                    <a class="hy-nav-title clickstat" href="http://www.huya.com/e/zhubo" eid="click/navi/kaibo" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u5f00\u64ad" target="_blank">\r\n                        <i class="hy-nav-icon hy-nav-video-icon"></i>\r\n                        <span class="title">\u5f00\u64ad</span>\r\n                    </a>\r\n                    <div class="nav-expand-list nav-expand-kaibo">\r\n                        <i class="arrow"></i>\r\n                        <div class="kaibo-nav">\r\n                            <a target="_blank" href="http://www.huya.com/e/zhubo"><i class="hy-nav-video-icon"></i><span>\u6211\u8981\u5f00\u64ad</span></a>\r\n                            <a target="_blank" href="#"><i class="hy-nav-home-icon"></i><span>\u516c\u4f1a\u5165\u9a7b</span></a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="hy-nav-right">\r\n                    <a class="hy-nav-title clickstat" href="http://www.huya.com/download/" eid="click/navi/download" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u4e0b\u8f7d" target="_blank">\r\n                        <i class="hy-nav-icon hy-nav-download-icon"></i>\r\n                        <span class="title">\u4e0b\u8f7d</span>\r\n                    </a>\r\n                    <div class="nav-expand-list nav-expand-download">\r\n                        <i class="arrow"></i>\r\n                        <div class="download-nav">\r\n                            <a target="_blank" href="http://www.huya.com/download/"><i class="hy-nav-app-icon"></i><span>\u79fb\u52a8APP</span></a>\r\n                            <a target="_blank" href="http://www.huya.com/download/#players_pc"><i class="hy-nav-play-icon"></i><span>\u4e3b\u64ad\u5de5\u5177</span></a>\r\n                            <!-- <a target="_blank" href="http://www.huya.com/download/#tv"><i class="hy-nav-tv-icon"></i><span>\u864e\u7259TV\u7248</span></a> -->\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="hy-nav-right nav-subscribe success-login">\r\n                    <a class="hy-nav-title new-clickstat" href="http://i.huya.com/index.php?m=Subscribe" target="_blank" report=\'{"eid":"click/position","position":"click/navi/dingyue"}\'>\r\n                        <i class="hy-nav-icon hy-nav-subscribe-icon"></i>\r\n                        <span class="title">\u8ba2\u9605</span>\r\n                    </a>\r\n                    <div class="nav-expand-list">\r\n                        <i class="arrow"></i>\r\n                        <div class="subscribe-hd clearfix" style="display:none;">\r\n                            <h5>\u6211\u8ba2\u9605\u7684\u6709<em class="subscribe-key">0</em>\u4e2a\u6b63\u5728\u76f4\u64ad</h5>\r\n                        </div>\r\n                        <div class="subscribe-bd" style="display:none;">\r\n                            <ul class="subscribe-list"></ul>\r\n                            <a class="subscribe-all" href="http://i.huya.com/index.php?m=Subscribe" target="_blank">\u5168\u90e8\u8ba2\u9605</a>\r\n                        </div>\r\n                        <div class="mod-list-more">\r\n                            <div class="more-loading">\r\n                                <i class="icon-loading"></i>\r\n                                <em>\u6b63\u5728\u52a0\u8f7d\u60a8\u7684\u8ba2\u9605...</em>\r\n                            </div>\r\n                            <div class="more-empty">\r\n                                <i class="icon-empty"></i>\r\n                                <p>\u6682\u65e0\u8ba2\u9605\u7684\u76f4\u64ad\u3002<br/><em>\u4f60\u53ef\u4ee5\u5728\u4e3b\u64ad\u7684\u64ad\u653e\u9875\u8fdb\u884c\u8ba2\u9605\u5594\uff01</em></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="hy-nav-right hy-nav-history">\r\n                    <a class="hy-nav-title nav-history new-clickstat" id="nav-history" href="http://i.huya.com/index.php?m=Subscribe&watch=1" target="_blank" report=\'{"eid":"click/position","position":"click/navi/lishi"}\'>\r\n                        <i class="hy-nav-icon hy-nav-history-icon"></i>\r\n                        <span class="title">\u5386\u53f2</span>\r\n                    </a>\r\n                    <div class="nav-expand-list nav-expand-history">\r\n                        <i class="arrow"></i>\r\n                        <div class="load-history">\r\n                            <div class="mod-list-more">\r\n                                <div class="more-loading">\r\n                                    <i class="icon-loading"></i>\r\n                                    <em>\u6b63\u5728\u52a0\u8f7d\u60a8\u7684\u5386\u53f2...</em>\r\n                                </div>\r\n                            </div>                            \r\n                        </div>\r\n                        <a href="http://i.huya.com/index.php?m=Subscribe&watch=1" class="nav-expand-history-more J_gNavLogin" style="display:none" target="_blank">\u66f4\u591a&gt;</a>\r\n                    </div>\r\n                </div>\r\n                <div class="hy-nav-right un-login">\r\n                    <div class="hy-nav-title">\r\n                        <i class="hy-nav-icon hy-nav-login-icon"></i>\r\n                        <div class="un-login-btn">\r\n                            <a class="clickstat" id="nav-login" href="#" eid="click/navi/sign" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u767b\u5f55">\u767b\u5f55</a>\r\n                            <i>|</i>\r\n                            <a class="clickstat" id="nav-regiest" href="#" eid="click/navi/login" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u6ce8\u518c">\u6ce8\u518c</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="hy-nav-right nav-user success-login">\r\n                    <a class="nav-user-title" href="http://i.huya.com/" target="_blank">\r\n                        <img id="login-userAvatar" src="//a.msstatic.com/huya/main/img/10001.jpg" alt="\u5934\u50cf" />\r\n                        <span id="login-username"></span>\r\n                        <i></i>\r\n                    </a>\r\n                    <div class="nav-expand-list">\r\n                        <i class="arrow"></i>\r\n                        <div class="tt-user-card">\r\n                            <a class="btn-exit" id="nav-loggout" href="#"><i class="hy-nav-exit-icon"></i><span>\u9000\u51fa</span></a>\r\n                            <div class="u-info">\r\n                                <a class="avatar" id="J_huyaNavUserCardAvatar" href="#{centerHost}" target="_blank">\r\n                                    <img src="//a.msstatic.com/huya/main/img/10001.jpg" id="J_huyaNavUserCardAvatarImg" />\r\n                                </a>\r\n                                <p class="nick" id="J_huyaNavUserCardNick">...</p>\r\n                                <p class="user-sign" id="J_huyaNavUserCardSign">...</p>\r\n                                <div class="exp clearfix">\r\n                                    <div class="between">\r\n                                        <span class="from" id="J_huyaNavUserCardExpFrom">LV-</span>\r\n                                        <div class="bar-cnt">\r\n                                            <p id="J_huyaNavUserCardBarInfo"></p>\r\n                                            <p class="bar">\r\n                                                <i id="J_huyaNavUserCardExpBar"><b class="J_huyaNavUserCardExpText"></b></i>\r\n                                                <span class="J_huyaNavUserCardExpText"></span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <span class="to" id="J_huyaNavUserCardExpTo">LV-</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="u-assets">\r\n                                <div class="bd">\r\n                                    <span class="type-name">\u8d44\u4ea7</span>\r\n                                    <ul class="type">\r\n                                        <li><i class="gold-bean"></i><em id="J_huyaNavUserCardAssetsGb">...</em></li>\r\n                                        <li class="type-ticket"><i class="gold-ticket"></i><em id="J_huyaNavUserCardAssetsTk">...</em></li>\r\n                                        <li><i class="silver-bean"></i><em id="J_huyaNavUserCardAssetsSb">...</em></li>\r\n                                    </ul>\r\n                                    <a class="topup new-clickstat" target="_blank" href="http://i.huya.com/?evt=recharge" report=\'{"eid":"click/position","position":"header/usercard/recharge"}\'>\u5145\u503c</a>\r\n                                </div>\r\n                            </div>\r\n                            <div class="u-task loading" id="J_huyaNavUserCardTask">\r\n                            </div>\r\n                            <div class="u-links">\r\n                                <ul>\r\n                                    <li class="links-i">\r\n                                        <a href="http://i.huya.com/" target="_blank" class="new-clickstat" report=\'{"eid":"click/position","position":"header/usercard/entrance1"}\'>                                        \r\n                                            <i></i>\r\n                                            <p>\u4e2a\u4eba\u4e2d\u5fc3</p>\r\n                                        </a>\r\n                                    </li>\r\n                                    <li class="links-noble">\r\n                                        <a href="http://i.huya.com/index.php?m=NobleSys" target="_blank" report=\'{"eid":"click/position","position":"header/usercard/entrance2"}\'>\r\n                                            <i></i>\r\n                                            <p>\u6211\u7684\u8d35\u65cf</p>\r\n                                        </a>\r\n                                    </li>\r\n                                    <li class="links-msg" id="J_huyaNavUserMsg">\r\n                                        <a href="http://i.huya.com/index.php?m=Msg&do=listMsg" target="_blank" report=\'{"eid":"click/position","position":"header/usercard/entrance3"}\'>\r\n                                            <i></i>\r\n                                            <p>\u6211\u7684\u6d88\u606f</p>\r\n                                        </a>\r\n                                        <b class="dot" id="J_huyaNavUserMsgDot"></b>\r\n                                    </li>\r\n                                    <li class="links-play">\r\n                                        <a href="http://www.huya.com/e/zhubo" target="_blank" report=\'{"eid":"click/position","position":"header/usercard/entrance4"}\'>\r\n                                            <i></i>\r\n                                            <p>\u6211\u8981\u76f4\u64ad</p>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="duya-header-tips">\r\n                <em class="close-tips">&times;</em>\r\n                <p class="tips-top">\u6709\u65b0\u7684\u76f4\u64ad\u5185\u5bb9\uff0c<span class="refresh-current">\u5237\u65b0\u770b\u770b</span></p>\r\n                <div id="refresh-wrap">\r\n                    <h5>\u4f60\u8ba2\u9605\u7684\u4e3b\u64ad\u4fe1\u606f</h5>\r\n                    <div class="refresh-tips"></div>\r\n                    <h6><input type="checkbox" id="checkTips"><label for="checkTips">\u4eca\u5929\u5185\u4e0d\u63d0\u9192</label></h6>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}();HUYA_UTIL.createStyleSheet(CSS_TEXT+".duya-header{position:fixed;}");var html=formatData(HEAD_TPL,{host:TT.app.main,centerHost:TT.app.i});$("body").prepend(html),DUYA_SUB.publish("huyaHeaderDomReady")}),$(function(){function showDialog(e){function t(e){huya_crossStorage.getItem(e,function(t){t||huya_crossStorage.setItem(e,1)})}function a(){setTimeout(function(){c.remove()}),n&&clearInterval(n),huya_crossStorage.removeItem(key+l)}var i=60,n=null,o=e.data,r=e.afterRender||$.noop,s="object"==typeof o?o:$.parseJSON(o),l=s.eventId,c=$(liveNoticeTmpl({data:s}));c.appendTo("body").animate({bottom:5}).on("click",".notice-close,.notice-btn",function(){a()}),r(c),n=setInterval(function(){if(i--,i>=1){var e=" "+i;c.find(".js-notice-time").text(e)}else a()},1e3),t(key+l)}var liveNoticeTmpl=function(obj){var __t,__p="";with(Array.prototype.join,obj||{})__p+='<div class="huya-head-notice">\r\n    <div class="notice-hd">\r\n        <i class="notice-icon"></i>\r\n        <span class="notice-title">\u76f4\u64ad\u901a\u77e5</span>\r\n        <span class="notice-tip"><span class="js-notice-time">10</span>s\u540e\u81ea\u52a8\u5173\u95ed</span>\r\n        <a class="notice-close" title="\u5173\u95ed\u5f39\u7a97"></a>\r\n    </div>\r\n    <div class="notice-bd">\r\n        ',data.image&&(__p+='\r\n            <a class="notice-pic" href="'+(null==(__t=data.action)?"":__t)+'" target="_blank">\r\n                ',data.gameFullName&&(__p+='<div class="notice-gameFullName">'+(null==(__t=data.gameFullName)?"":__t)+"</div>"),__p+='\r\n                <img src="'+(null==(__t=TT.trimUrl(data.image))?"":__t)+'"> \r\n            </a>\r\n        '),__p+='\r\n        <div class="notice-text">\r\n            <h2 class="anchor-name">'+(null==(__t=data.title)?"":__t)+"</h2>\r\n            ",data.nick&&(__p+='<h3 class="anchor-nick" title="'+(null==(__t=data.nick)?"":__t)+'">'+(null==(__t=data.nick)?"":__t)+"</h3>"),__p+='\r\n            <p class="notice-content" title="'+(null==(__t=data.content)?"":__t)+'">\r\n                '+(null==(__t=data.content)?"":__t)+'\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <a class="notice-btn" href="'+(null==(__t=data.action)?"":__t)+'" target="_blank">\u9a6c\u4e0a\u89c2\u770b</a>\r\n</div>';return __p},key="huya_liveNotice";huya_crossStorage.change(function(e){new RegExp(key).test(e.key)&&null==e.newValue&&$("#"+e.key).remove()}),window.HUYA_HEAD_liveNotice=function(e){showDialog({data:e,afterRender:function(){DUYA_SUB.publish("INDEX_LIVE_NOTICE",e.eventId)}})},window.HUYA_SUBSCRIBE_PUSH=function(e){if(!$.isEmptyObject(e))for(var t in e){var a=e[t],i={title:"\u4f60\u8ba2\u9605\u7684\u4e3b\u64ad: ",content:(a.introduction?'\u5728\u64ad"'+a.introduction+'"':"\u6b63\u5728\u5f00\u64ad\u5566,")+"\u5feb\u62a2\u4e2a\u677f\u51f3\u5750\u597d",image:a.avatar180,action:TT.app.main+a.privateHost,eventId:a.aid,nick:a.nick,gameFullName:a.gameFullName};showDialog({data:i,afterRender:function(e){e.addClass("subscribe-notice"),e.find(".notice-close").addClass("clickstat").attr({eid:"click/dytc/close",eid_desc:"\u70b9\u51fb/\u8ba2\u9605\u5f39\u7a97/\u5173\u95ed"}),e.find(".notice-btn").addClass("clickstat").attr({eid:"click/dytc/in",eid_desc:"\u70b9\u51fb/\u8ba2\u9605\u5f39\u7a97/\u8fdb\u5165\u76f4\u64ad\u95f4"})}})}},window.HUYA_NOTICE_PUSH=function(e){showDialog({data:e,afterRender:function(e){e.addClass("normal-notice")}})}}),$(function(){var e=window.HUYA_UTIL,t=TT.isProd?"//fw.huya.com/":"//test.fw.huya.com/",a={isHuyaLiveRoom:/^\/([A-Za-z0-9]{2,})(|\/)$/.test(location.pathname),isHuyaIndex:location.href==TT.app.main},i={userSubscribeList:[],cacheObj:{},isShowRefreshTips:!1,getSubSt:null,getAllLiveSt:null,tips_left:0,refreshPush:function(e){window.HUYA_SUBSCRIBE_PUSH&&window.HUYA_SUBSCRIBE_PUSH(e)},getUserSubscribe:function(){var e=this;$.ajax({url:t+"dispatch?do=userSubscribeAid&uid="+DUYA_INS.userId,type:"GET",dataType:"jsonp",success:function(t){if(1e3==t.status&&(e.userSubscribeList=t.result.list||[],window.localStorage)){var a=JSON.stringify(e.userSubscribeList);localStorage.setItem("huya_header_subscribe",a)}}})},getNewestLive:function(){var e=this;$.ajax({url:t+"dispatch?do=newestLive&time=120",type:"GET",dataType:"jsonp",success:function(t){if(1e3==t.status){var a=e.mapSubscribeList(t.result,e.userSubscribeList);e.refreshPush(a)}}})},mapSubscribeList:function(e,t){var a=this,i={};for(var n in e)for(var o=0,r=t.length;r>o;o++)n.toString()==t[o].toString()&&(i[n]=e[n]);if(!$.isEmptyObject(a.cacheObj))for(var s in i)"undefined"!=typeof a.cacheObj[s]&&delete i[s];return a.cacheObj=i,i},init:function(t){var a=this,i=$(".duya-header-tips");if(i.on("click",".refresh-current",function(){$(this).parent("p").remove(),0==$(".refresh-tips p").length&&i.removeClass("appear-tips")}).on("change","#checkTips",function(){if($(this).attr("checked")){var t=new Date;t.setTime(t.getTime()+864e5),e.writeCookie("stopPushSub","1",TT.domainForWriteCookie,"/",t),$("#refresh-wrap").remove(),a.isShowRefreshTips||(i.removeClass("appear-tips"),a.isShowRefreshTips=!0)}}).on("click",".close-tips",function(){i.removeClass("appear-tips")}),"1"==e.hasCookie("stopPushSub")&&i.find("#refresh-wrap").remove(),"1"!=e.hasCookie("stopPushSub")&&DUYA_INS.islogin&&!location.host.match("admin.huya.com")&&(a.getSubSt=setTimeout(function(){a.getUserSubscribe(),clearTimeout(a.getSubSt),a.getSubSt=setInterval(function(){a.getUserSubscribe()},6e5)},59e3),t||(a.getAllLiveSt=setInterval(function(){a.getNewestLive()},61e3))),$(window).on("scroll",function(){$(".duya-header-tips").length>0&&$(".duya-header-tips").hasClass("appear-tips")&&($(window).scrollTop()>$("#duya-header").height()?i.css({position:"fixed",top:"45px",left:a.tips_left}):i.attr("style",""))}),window.localStorage){var n=localStorage.getItem("huya_header_subscribe");this.userSubscribeList=JSON.parse(n)||[]}this.initRefreshTips()},initRefreshTips:function(){var e=this,t=$(".duya-header-tips");t.on("click",".tips-top .refresh-current",function(){location.reload()}).on("click",".close-tips",function(){t.removeClass("appear-tips")}),a.isHuyaLiveRoom||a.isHuyaIndex||setTimeout(function(){t.addClass("appear-tips").find(".tips-top").show(),e.tips_left=t.offset().left,e.isShowRefreshTips=!0},18e5)}};window.DUYA_PUSH=i}),function(){function e(){var e=this;TT.on("huyaHeaderDomReady",function(){e.init()})}e.prototype.init=function(){var t=this;TT.getUserInfo(function(t){function a(){TT.login.logout(!0);var e=$("body"),t='<div id="offline-notice"><div class="login-closure-tit">\u6e29\u99a8\u63d0\u793a<span id="offline-notice-close"></span></div><div class="login-closure-cnt"><h2 style="text-align: center;font-size: 18px;font-weight: 800;margin-bottom: 5px;">\u4e0b\u7ebf\u901a\u77e5</h2><p style="text-align: center;">\u60a8\u7684\u8d26\u53f7'+HUYA_UTIL.getCookieVal("username")+'\uff0c\u4fee\u6539\u4e86\u767b\u5f55\u5bc6\u7801\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55</p></div><span id="offline-notice-sure">\u91cd\u65b0\u767b\u5f55</span></div><div id="offline-notice-mask"></div>';e.append(t),$("#offline-notice-sure,#offline-notice-close").one("click",function(){$("#offline-notice-mask").remove(),$("#offline-notice").remove()}),$("#offline-notice-sure").one("click",function(){TT.login.login()})}var i=e.prototype;if(1==t.isChanged&&a(),i.islogin=t.isLogined,i.userName=t.userName,i.userNick=t.userNick,i.userLogo=t.userLogo,i.userId=t.uid,t.isLogined){$("#duya-header .success-login").show(),$("#login-username").attr("title",i.userNick).text(i.userNick),$("#login-userAvatar").attr("src",TT.trimUrl(i.userLogo)),DUYA_SUB.publish("getUserInfoComplete",{name:i.userName,nick:i.userNick,avatar:i.userLogo});var n=-1!=location.host.indexOf(TT.domain.main)||-1!=location.host.indexOf(TT.domain.i);DUYA_PUSH.init(n)}else $("#duya-header .un-login").show();"function"==typeof window.checkLoginCallback&&window.checkLoginCallback()}),t.headEven()},e.prototype.headEven=function(){var e=$("#duya-header");$(".J_gNavLogin").on("click",function(e){HUYA_UTIL.getCookieVal("yyuid")||(e.preventDefault(),TT.login.login())}),e.find("#nav-login").click(function(e){e.preventDefault(),TT.login.login()}),e.find("#nav-regiest").click(function(e){e.preventDefault(),TT.login.register()}),e.find("#nav-loggout").click(function(e){e.preventDefault(),TT.login.logout()})},e.prototype.myMessageShow=function(){var e=$("#J_huyaNavUserMsgDot");e.show(),$("#J_huyaNavUserMsg").off("click").on("click",function(){e.hide()})},e.prototype.myMessageHide=function(){$("#J_huyaNavUserMsgDot").hide()},window.DUYA_INS=new e}(),$(function(){function e(e){var a=document.body.className.replace(/(^[\s\t\xa0\u3000]+|[\s\t\xa0\u3000]+$)/g,""),i=a?document.body.className.split(/\s+/):[],n=t(i,"w-1000");1===e?-1!=n&&(i.splice(n,1),document.body.className=i.join(" ")):-1==n&&(i.push("w-1000"),document.body.className=i.join(" "))}var t=function(e,t){for(var a=0,i=e.length;i>a;a++)if(e[a]===t)return a;return-1},a=document.documentElement?document.documentElement:document.body,i=function(){var e=a.clientWidth;return e>=1480?1:0},n=i();e(n);var o=null,r=function(){clearTimeout(o),o=setTimeout(function(){var t=i();t!==n&&e(n=t)},60)};$(window).on("resize",function(){r(),DUYA_SUB.publish("resizeWide",a.clientWidth)})}),$(function(){function e(){this.initialize.apply(this,arguments)}e.prototype={initialize:function(){var e=null,t=this;if(t.input=$("#searchForm_id input"),e=window.localStorage.getItem("header/placeholder"))try{t.setVal(e)}catch(a){}$(window).on("load",function(){setTimeout(function(){t.ajaxGetPlaceholder()},500)})},setVal:function(e){this.val=e,this.input.val(this.val),this.bind()},ajaxGetPlaceholder:function(){var e=TT.app.main+"/cache10min.php?m=Search&do=getHotword&v=2";HUYA_UTIL.isMobile&&(e=TT.app.main+"/cacheapp.php?m=Search&do=getHotword&v=2"),$.ajax({type:"get",url:e,dataType:"jsonp",jsonpCallback:"huyaNavPlaceholder",cache:!0}).done(function(e){e&&e[0]?window.localStorage.setItem("header/placeholder",e[0]):window.localStorage.removeItem("header/placeholder")})},bind:function(){var e=this;e.input.on("focus",function(){e.input.val()===e.val&&e.input.val("")}).on("blur",function(){""===e.input.val()&&e.input.val(e.val)})}},DUYA_SUB.subscribe("huyaHeaderDomReady",function(){new e},!0)}),$(function(){var e={init:function(){var e=this,t=TT.app.main+"/cache10min.php?m=Game&do=ajaxNavGame";HUYA_UTIL.isMobile&&(t=TT.app.main+"/cacheapp.php?m=Game&do=ajaxNavGame"),$.ajax({type:"get",url:t,dataType:"jsonp",jsonpCallback:"huyaNavCategory",cache:!0}).done(function(t){var a="";a=t&&1e3==t.status&&t.result?e.tpl(t.result):'<a href="'+TT.app.main+'g" class="nav-expand-game-more" target="_blank">\u66f4\u591a <span>&gt;</span></a>',$(".nav-expand-game").append(a),t&&t.result&&t.result.ad&&window.TT_RSC_EXPS&&TT_RSC_EXPS({pos:"nav/category/ad",rsc:t.result.ad.id})})},tpl:function(e){var t="",a=e.hot,i=e.user,n=e.ad,o=0;if(a&&a.length>0){t+='<dl class="clearfix"><dt>\u70ed\u95e8\u5206\u7c7b</dt>';for(var r=0,s=a.length;s>r;r++)o++,t+='<dd><a class="clickstat" eid="click/navi/game/game'+o+'" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u6e38\u620f/\u6e38\u620f'+o+'" title="'+a[r].name+'" href="'+TT.app.main+"g/"+a[r].host+'" target="_blank">'+a[r].name+"</a></dd>";t+="</dl>"}if(i&&i.length>0){t+='<dl class="clearfix"><dt>\u73a9\u5bb6\u63a8\u8350</dt>';for(var r=0,s=i.length;s>r;r++)o++,t+='<dd><a class="clickstat" eid="click/navi/game/game'+o+'" eid_desc="\u70b9\u51fb/\u5bfc\u822a/\u6e38\u620f/\u6e38\u620f'+o+'" title="'+i[r].name+'" href="'+TT.app.main+"g/"+i[r].host+'" target="_blank">'+i[r].name+"</a></dd>";t+="</dl>"}return t+='<a href="'+TT.app.main+'g" class="nav-expand-game-more" target="_blank">\u66f4\u591a <span>&gt;</span></a>',n&&(t+='<a href="'+n.link+'" id="J_adCategory" class="clickstat third-clickstat" data-thirdstat="'+n.clickCheckCode+'" data-thirdview="'+n.viewCheckCode+'" eid="click/push/navigame" eid_desc="\u70b9\u51fb/\u63a8\u8350/\u5bfc\u822a\u6e38\u620f\u4e0b\u62c9\u56fe" target="_blank"><img src="'+TT.trimUrl(n.picUrl)+'" width="250" height="60" alt="'+n.title+'"/></a>'),t}};DUYA_SUB.subscribe("huyaHeaderDomReady",function(){function t(e){!function(){var t=$(e).data("thirdview");if(t){var a=a||new Image;a.src=t}}(),function(){function e(){return"undefined"==typeof ya?void(t=setTimeout(function(){e()},1e3)):(clearTimeout(t),void ya.reportProductEvent({eid:"pageview/push/navigame",eid_desc:"\u66dd\u5149/\u63a8\u8350/\u5bfc\u822a\u680f\u4e0b\u62c9\u5e7f\u544a\u4f4d",ref:YA.cookie.get("ya_eid")}))}var t;e()}()}var a=!1,i=null;$(window).on("load",function(){a||(i=setTimeout(function(){e.init(),a=!0},500))}),$("#nav-main").one("mouseover",function(){var n=document.getElementById("J_adCategory");n&&t(n),a||(i&&clearTimeout(i),e.init(),a=!0)})},!0)}),$(function(){var e=HUYA_UTIL.getCookieVal,t=!!e("yyuid"),a={init:function(){var a=this,i=$(".load-history");if(t)$.ajax({type:"get",url:"//fw.huya.com/dispatch",data:{"do":"userHistory",uid:e("yyuid"),guid:e("guid"),token:e("udb_n"),page:1,pageSize:5},dataType:"jsonp",cache:!0}).done(function(e){var t=a.tpl(e&&1e3==e.status?e.result:null);i.html(t)});else{var n="huya_watchHistory";huya_crossStorage.getItem(n,function(e){e&&(e.nowTime=Math.floor(new Date/1e3)),i.html(a.tpl(e))}),huya_crossStorage.change(function(e){(e.key===n||null===e.key)&&huya_crossStorage.getItem(n,function(e){e&&(e.nowTime=Math.floor(new Date/1e3)),i.html(a.tpl(e))})})}},tpl:function(e){var t="";if(e&&e.historyList.length>0){for(var a=e.historyList,i=new Date(1e3*+e.nowTime),n=i.setHours(0,0,0,0),o={today:[],yesterday:[],earlier:[]},r=0;r<a.length;r++)a[r].historyTime=1e3*a[r].historyTime,a[r].historyTime>n?o.today.push(a[r]):n-a[r].historyTime<864e5?o.yesterday.push(a[r]):o.earlier.push(a[r]);var s={today:"\u4eca\u5929",yesterday:"\u6628\u5929",earlier:"\u66f4\u65e9"};for(var l in o){var c=o[l];if(c.length>0){t+='<div class="history-hd"><em></em>'+s[l]+"</div>",t+='<ul class="history-bd">';for(var r=0;r<c.length;r++)t+="<li>",t+=1==c[r].isLive?'<a href="'+TT.app.main+c[r].privateHost+'" title="'+c[r].nick+'" class="new-clickstat" report=\'{"eid":"click/position","position":"click/navi/ls/kb"}\'><em class="live"></em><span class="history-nick">'+c[r].nick+'</span><span class="history-type" title="'+c[r].gameName+'">'+c[r].gameName+"</span></a>":'<a href="'+TT.app.main+c[r].privateHost+'" title="'+c[r].nick+'" class="new-clickstat" report=\'{"eid":"click/position","position":"click/navi/lishi"}\'><em class="notlive"></em><span class="history-nick">'+c[r].nick+'</span><span class="history-type" title="'+c[r].gameName+'">'+c[r].gameName+"</span></a>",t+="</li>";t+="</ul>"}}a.length>=5&&$(".nav-expand-history-more").css("display","block")}else t='<p class="nav-expand-history-null"><i></i><span>\u6700\u8fd1\u60a8\u6ca1\u6709\u89c2\u770b\u8bb0\u5f55</span></p>';return t}};DUYA_SUB.subscribe("huyaHeaderDomReady",function(){$("#nav-history").one("mouseover",function(){a.init()}).on("click",function(e){t||e.preventDefault()})},!0)}),$(function(){var host=TT.app.main,subscribeURL=TT.isProd?"//fw.huya.com/":"//test.fw.huya.com:18081/",follow={init:function(){var e=this,t=HUYA_UTIL.getCookieVal("yyuid");t&&$.ajax({url:subscribeURL+"dispatch?do=subscribeList&uid="+t+"&page=1&pageSize=7",type:"GET",dataType:"jsonp"}).done(function(t){1e3==t.status&&e.tpl(t.result&&t.result.list&&t.result.list.length?t.result.list:[])})},tpl:function(list1){for(var tpl=function(obj){function formatNumber(e){var t=Number(e);return t&&t>1e4&&(e=(t/1e4).toFixed(1)+"\u4e07"),e}var __t,__p="";with(Array.prototype.join,obj||{})__p+="",__p+='\r\n\r\n<li>\r\n\r\n	<a class="video-link new-clickstat" href="'+(null==(__t=link)?"":__t)+'" title="'+(null==(__t=nick)?"":__t)+'" report=\'{"eid":"click/position","position":"click/navi/dy/',__p+=1==isLive?"kb":"wkb",__p+='"}\'>\r\n        <span class="avatar"><img src="'+(null==(__t=TT.trimUrl(avatar180))?"":__t)+'" alt="'+(null==(__t=nick)?"":__t)+'" />',1==isLive&&(__p+="<span>\u5728\u64ad</span>"),__p+='</span>\r\n        <div class="info">\r\n            <p class="name">'+(null==(__t=nick)?"":__t)+'</p>\r\n            <div class="other">\r\n                ',1==isLive&&(__p+='<span class="count"><i></i>'+(null==(__t=formatNumber(totalCount))?"":__t)+"</span>"),__p+='\r\n                <span class="game">'+(null==(__t=gameName)?"":__t)+"</span>\r\n            </div>\r\n        </div>\r\n	</a>\r\n</li>\r\n\r\n";return __p},_tpl="",_navSubDom=$(".nav-subscribe"),_subCount=list1.length,maxLegth=6,onliveNum=0,list1=list1.slice(0,maxLegth),i=0;i<list1.length;i++)_tpl+=tpl({link:host+(list1[i].privateHost||list1[i].yyid),screenshot:list1[i].screenshot,avatar180:list1[i].avatar180,gameName:list1[i].gameName,nick:list1[i].nick,totalCount:list1[i].totalCount,isLive:list1[i].isLive}),1==list1[i].isLive&&onliveNum++;_subCount>0?(_navSubDom.find(".subscribe-hd").show(),_navSubDom.find(".subscribe-bd").show(),_navSubDom.find(".subscribe-list").append(_tpl),_navSubDom.find(".subscribe-key").text(onliveNum),_navSubDom.find(".mod-list-more").hide(),_subCount>maxLegth?_navSubDom.find(".subscribe-all").show():_navSubDom.find(".subscribe-all").hide()):(_navSubDom.find(".subscribe-bd").show(),_navSubDom.find(".more-loading").hide(),_navSubDom.find(".more-empty").show(),_navSubDom.find(".subscribe-all").hide())
}};DUYA_SUB.subscribe("huyaHeaderDomReady",function(){$("#duya-header .nav-subscribe").one("mouseenter",function(){follow.init()})},!0)}),TT.on("huyaHeaderDomReady",function(){function signInfo(e){$("#J_huyaNavUserCardSign").html(""==e?'<a href="'+TT.app.i+'?m=UserInfo" target="_blank" class="edit_sign">\u70b9\u51fb\u7f16\u8f91\u4e2a\u6027\u7b7e\u540d</a>':'<span title="'+e+'">'+e+"</span>")}function nobleInfo(e){!e||2!=e.nobleStatus&&3!=e.nobleStatus||$("#J_huyaNavUserCardAvatar").append('<i class="noble-icon noble-level-'+e.nobleLevel+'""></i>')}function LvExper(e){function t(e){n.add(e)}function a(e){e="number"==typeof e?e:parseInt(e,10);var t=$.extend({},i);i.userExp+=e,i.userExp>=i.nextLevelExp&&(i.currLevelExp=i.nextLevelExp,i.nextLevelExp=i.next2LevelExp,i.userLevel+=1),i.levelProgress=(i.userExp-i.currLevelExp)/(i.nextLevelExp-i.currLevelExp)*100,n.fire($.extend({},i),t)}var i=$.extend({},e),n=$.Callbacks();for(var o in i)i.hasOwnProperty(o)&&"number"!=typeof i[o]&&$.isNumeric(i[o])&&(i[o]=parseInt(i[o],10));return{get:function(){return $.extend({},i)},change:t,add:a}}function lvInfo(e){function t(e){$("#J_huyaNavUserCardExpFrom").text("LV"+e.userLevel),$("#J_huyaNavUserCardExpTo").text("LV"+(parseInt(e.userLevel,10)+1)),$("#J_huyaNavUserCardExpBar").css("width",e.userExp/e.nextLevelExp*100+"%"),$(".J_huyaNavUserCardExpText").text(e.userExp+"/"+e.nextLevelExp);var t=$("#J_huyaNavUserCardNick");t.find(".level-icon").remove(),t.find(".gender").remove(),t.append('<i class="gender gender'+e.gender+'"></i>'),t.append('<i class="level-icon level-icon'+e.userLevel+'"></i>');var a=200==e.dailyIncExp?"\u4eca\u65e5\u5df2\u83b7\u5f97<em>200</em>\u70b9\u4e0a\u9650":"\u4eca\u65e5\u83b7\u5f97<em>"+e.dailyIncExp+"</em>\u70b9\u7ecf\u9a8c\u503c";$("#J_huyaNavUserCardBarInfo").html(a+"\uff0c\u5347\u7ea7\u8fd8\u9700<em>"+(e.nextLevelExp-e.userExp)+"</em>\u70b9")}t(e.get()),e.change(t)}function assets(e){function t(e){if(e=""+e,-1==e.indexOf("."))return e;var t=e.split(".");return t[0]+"."+t[1].charAt(0)}var a=parseInt(e[9],10)||0,i=parseInt(e[32],10)||0,n=parseInt(e[8],10)||0,o=function(e){return 1e4>e?e:1e8>e?t(e/1e4)+"\u4e07":t(e/1e8)+"\u4ebf"};$("#J_huyaNavUserCardAssetsGb").text(o(a)),$("#J_huyaNavUserCardAssetsTk").text(o(i)),$("#J_huyaNavUserCardAssetsSb").text(o(n))}function Task(e){var t=function(e,t){return $.ajax({url:TT.app.main+"member/task.php?m=User&do=doGetTaskPrize",data:{taskId:e},dataType:"jsonp"}).done(function(i){200==i.status&&i.data?i.data&&0==i.data.code?t(a(e)):alert({910:"\u4e0d\u53ef\u91cd\u590d\u9886\u53d6",913:"\u4efb\u52a1\u5df2\u4e0b\u7ebf",914:"\u4efb\u52a1\u672a\u5b8c\u6210"}[i.data.code]||"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01("+i.data.code+")"):alert(i.msg)})},a=function(e){var t=n(e);return t&&(t.awardPrize=1,i.fire(t)),t},i=new $.Callbacks,n=function(t){var a=null;return $.each(e,function(e,i){return i.id==t?(a=i,!1):void 0}),a},o=function(){return e},r=function(){var t=[];return $.each(e,function(e,a){a.progress<a.targetLevel&&t.push(a)}),t},s=function(){var t=[];return $.each(e,function(e,a){a.progress>=a.targetLevel&&(a.awardPrize||t.push(a))}),t},l=function(){var t=[];return $.each(e,function(e,a){a.progress>=a.targetLevel&&a.awardPrize&&t.push(a)}),t};return{getPrize:t,award:a,find:n,tasksAll:o,tasksUnripe:r,tasksRipe:s,tasksFinished:l,onFinish:function(e){i.add(e)}}}function TaskNovice(tasks){var task=new Task(tasks),tpl=function(obj){var __t,__p="";with(Array.prototype.join,obj||{}){if(__p+='<div class="task-mod task-novice">\r\n    <div class="mod-hd">\r\n        <p class="mod-tit">\u65b0\u624b\u4efb\u52a1</p>\r\n    </div>\r\n    <div class="mod-bd">\r\n    ',tasks.length){__p+='\r\n        <ul class="tasks">\r\n        ';for(var i=0,l=tasks.length;l>i;i++){var task=tasks[i];__p+="\r\n            <li>\r\n                ",task.progress>=task.targetLevel&&0==task.awardPrize&&(__p+='\r\n                <i class="m-reddot"></i>\r\n                '),__p+='\r\n                <span class="task-icon" title="'+(null==(__t=task.desc)?"":__t)+'"><img src="'+(null==(__t=TT.trimUrl(task.icon))?"":__t)+'" alt="icon" /></span>\r\n                <p class="task-name" title="'+(null==(__t=task.desc)?"":__t)+'">'+(null==(__t=task.name)?"":__t)+"</p>\r\n                ",__p+=task.progress>=task.targetLevel?task.awardPrize?'\r\n                        <a class="task-btn done" href="#">\u5b8c\u6210</a>\r\n                    ':'\r\n                        <a class="task-btn get J_get" data-id="'+(null==(__t=task.id)?"":__t)+'" href="#">\u9886\u53d6</a>\r\n                    ':'\r\n                        <a class="task-btn ing" href="#">'+(null==(__t=task.progress)?"":__t)+"/"+(null==(__t=task.targetLevel)?"":__t)+"</a>\r\n                ",__p+="\r\n            </li>\r\n        "}__p+="\r\n        </ul>\r\n    "}else __p+="\r\n        <p>-- \u6682\u65e0\u4efb\u52a1 --</p>\r\n    ";__p+="\r\n    </div>\r\n</div>\r\n"}return __p};return task.view=$(tpl({tasks:tasks})),task.view.on("click",".J_get",function(){var e=$(this),t=e.data("id");t&&!e.hasClass("disable")&&(e.addClass("disable"),task.getPrize(t,function(t){e.removeClass("disable get J_get"),e.closest("li").find(".m-reddot").remove(),t.exper?(e.addClass("active").text("EXP+"+t.exper),setTimeout(function(){e.removeClass("active").addClass("done").text("\u5b8c\u6210")},1750)):e.addClass("done").text("\u5b8c\u6210")}).always(function(){e.removeClass("disable")}))}),task.onFinish(function(){task.tasksFinished().length>=task.tasksAll().length&&(task.view.find(".mod-bd").html('<div class="task-alldone"></div><div class="open-task-days">\u5f00\u542f\u6bcf\u65e5\u4efb\u52a1\uff0c\u52a0\u901f\u63d0\u5347\u7b49\u7ea7 &gt;</div>'),$(".open-task-days").one("click",function(){TT.emit("taskNoviceSwitchToDays")}))}),task}function TaskDays(tasks){var task=new Task(tasks),tpl=function(obj){var __t,__p="";with(Array.prototype.join,obj||{}){__p+="";var iconMap={189:"c",210:"m",211:"n",212:"o",213:"e",214:"f",215:"h",216:"i",217:"l",218:"j",219:"k",220:"g",221:"b",222:"d",223:"a"};if(__p+='\r\n<div class="task-mod task-days">\r\n    <div class="mod-hd">\r\n        <p class="mod-tit">\u6bcf\u65e5\u4efb\u52a1</p>\r\n        <a class="mod-more" target="_blank" href="'+(null==(__t=TT.app.i+"index.php?m=UserLevel")?"":__t)+'">\u66f4\u591a<i>&gt;</i></a>\r\n    </div>\r\n    <div class="mod-bd">\r\n    ',tasks.length){__p+='\r\n        <ul class="tasks">\r\n            ';for(var i=0,l=tasks.length;l>i;i++){var task=tasks[i];__p+='\r\n                <li>\r\n                    <i class="icon icon-'+(null==(__t=iconMap[task.id])?"":__t)+'"></i>\r\n                    ',task.progress>=task.targetLevel&&0==task.awardPrize&&(__p+='\r\n                    <i class="m-reddot"></i>\r\n                    '),__p+='\r\n                    <span class="tit">'+(null==(__t=task.desc)?"":__t)+'</span> \r\n                    <em class="exp-num">(+'+(null==(__t=task.exper)?"":__t)+'EXP)</em>\r\n                    <span class="status">\r\n                    ',task.progress>=task.targetLevel?(__p+="\r\n                        ",__p+=task.awardPrize?'\r\n                            <span class="status-done">\u5b8c\u6210</span>\r\n                        ':'\r\n                            <a class="status-get J_get" data-id="'+(null==(__t=task.id)?"":__t)+'" href="#">\u9886\u53d6</a>\r\n                        '):__p+='\r\n                            <span class="status-ing">'+(null==(__t=task.progress)?"":__t)+"/"+(null==(__t=task.targetLevel)?"":__t)+"</span>\r\n                    ",__p+="\r\n                    </span>\r\n                </li>\r\n            "}__p+="\r\n        </ul>\r\n    "}else __p+="\r\n        <p>-- \u6682\u65e0\u4efb\u52a1 --</p>\r\n    ";__p+="\r\n    </div>\r\n</div>\r\n"}return __p};return task.view=$(tpl({tasks:tasks})),task.view.on("click",".J_get",function(){var e=$(this),t=e.data("id");t&&!e.hasClass("disable")&&(e.addClass("disable"),task.getPrize(t,function(t){e.removeClass("disable J_get");var a=e.closest("li");a.find(".m-reddot").remove(),t.exper?(e.addClass("active").text("EXP+"+t.exper),setTimeout(function(){e.replaceWith('<span class="status-done">\u5b8c\u6210</span>'),setTimeout(function(){a.hide(500)},1e3)},1750)):(e.replaceWith('<span class="status-done">\u5b8c\u6210</span>'),setTimeout(function(){a.hide(500)},1e3))}).always(function(){e.removeClass("disable")}))}),task}function createTask(e){var t=null;switch(e[0].type){case 3:t=new TaskNovice(e);break;case 2:t=new TaskDays(e)}return t&&$("#J_huyaNavUserCardTask").empty().removeClass("loading").append(t.view),t}function UserCard(e){var t=new LvExper(e.level);lvInfo(t),nobleInfo(e.noble),signInfo(e.level.sign),assets(e.package);var a=createTask(e.tasks||[]);return a&&a.onFinish(function(e){e&&e.exper&&t.add(e.exper)}),{task:a}}function createUserCard(){var e=function(){var e=!1,t=null;return{get:function(){return e},set:function(){e=!0,clearTimeout(t),t=setTimeout(function(){e=!1},1e4)}}}(),t=!1;e.get()||t||(t=!0,$("#J_huyaNavUserCardTask").empty().addClass("loading"),getUserCardData(function(e){TT.emit("userCardCreate",new UserCard(e))}).always(function(){t=!1}))}function getUserCardData(e){return $.ajax({url:TT.app.main+"member/task.php?m=User&do=listTotal",dataType:"jsonp",jsonpCallback:"huyaNavUserCard",cache:!0}).done(function(t){200==t.status?t.data&&e(t.data):TT.log("\u83b7\u53d6\u7528\u6237\u5361\u7247\u6570\u636e\u5931\u8d25: "+t.msg)}).fail(function(e,t){TT.log("\u83b7\u53d6\u7528\u6237\u5361\u7247\u6570\u636e\u5931\u8d25: "+t)})}function getTaskReddotState(e){return $.ajax({url:TT.app.main+"member/task.php?m=User&do=getTaskReddot&uid="+HUYA_UTIL.getCookieVal("yyuid"),dataType:"jsonp",jsonpCallback:"getTaskReddot",cache:!0}).done(function(t){200==t.status&&t.data&&e(t.data.reddot.reddot)})}function once(e){var t,a;return function(){return a||(a=!0,t=e.apply(this,arguments)),t}}var isLogin=!!HUYA_UTIL.getCookieVal("yyuid");if(isLogin){TT.on("taskNoviceSwitchToDays",createUserCard),TT.on("huyaHeaderDomReady",function(){$(".nav-user-title").on("mouseenter",function(){createUserCard();try{ya.reportProductEvent({eid:"click/position",position:"header/usercard/hover"})}catch(e){}}).one("mouseenter",function(){TT.on("getUserInfoComplete",function(e,t){$("#J_huyaNavUserCardAvatarImg").attr("src",TT.trimUrl(t.avatar)),$("#J_huyaNavUserCardNick").empty().append("<span></span>").find("span").text(t.nick)},!0)})},!0);var RED_DOT_STORE_KEY="TT_USER_CARD_RED_DOT_"+TT.env+HUYA_UTIL.getCookieVal("yyuid");TT.store.getItem(RED_DOT_STORE_KEY,function(e){if(e)getReddot().show();else if((new Date).getTime()-getReddot().latestShowTime()>12e4){var t="TT_TASK_RED_DOT_STATE_REQ_"+HUYA_UTIL.getCookieVal("yyuid"),a=parseInt(localStorage.getItem(t)||"0",10);(new Date).getTime()-a>36e5&&getTaskReddotState(function(e){localStorage.setItem(t,(new Date).getTime()),e?getReddot().show():getReddot().hide()})}}),TT.store.change(function(e){e.key===RED_DOT_STORE_KEY&&(e.newValue?getReddot().show():getReddot().hide())}),TT.on("userCardCreate",function(e,t){function a(){t.task.tasksRipe().length>0?getReddot().show():getReddot().hide()}a(),t.task.onFinish(a)},!0),TT.on("userLevelTaskComplete",function(){getReddot().show()}),TT.event.on("AWARD_PRIZE_NOTICE_FROM_I",function(e,t){var a=null;TT.on("userCardCreate",function(t,i){a=i,i.task.award(e)},!0),a||t&&getReddot().hide()}),TT.on("userCardCreate",function(e,t){t.task.onFinish(function(e){TT.event.emit("AWARD_PRIZE_NOTICE_FROM_MAIN",e)})},!0);var getReddot=once(function(){function e(){TT.store.setItem(RED_DOT_STORE_KEY,1),i.show(),o=!0}function t(){TT.store.removeItem(RED_DOT_STORE_KEY),i.hide(),o&&localStorage.setItem(n,(new Date).getTime()),o=!1}function a(){return o?(new Date).getTime():parseInt(localStorage.getItem(n)||"0",10)}var i=$('<b class="m-reddot"></b>'),n="TT_USER_CARD_RED_DOT_LATEST_SHOW"+HUYA_UTIL.getCookieVal("yyuid"),o=!1;return TT.on("huyaHeaderDomReady",function(){$(".nav-user-title").append(i)},!0),{show:e,hide:t,visible:function(){return o},latestShowTime:a}})}},!0),$(function(){function e(){this.initialize.apply(this,arguments)}e.prototype={initialize:function(){var e=null,t=this;if(e=window.localStorage.getItem("header/ads"))try{e=JSON.parse(e),t.createImage(e)}catch(a){}$(window).on("load",function(){setTimeout(function(){t.ajaxGetAds()},500)})},createImage:function(e){$("#J_duyaHdGg").html('<a class="third-clickstat" data-thirdstat="'+e.clickCheckCode+'" href="'+e.link+'" title="'+e.title+'" target="_blank"><img src="'+TT.trimUrl(e.picUrl)+'" alt="'+e.title+'" /></a>'),this.viewReport(e.viewCheckCode)},viewReport:function(e){!function(){var t=e;if(t){var a=a||new Image;a.src=t}}(),function(){function e(){return"undefined"==typeof ya?void(t=setTimeout(function(){e()},1e3)):(clearTimeout(t),void ya.reportProductEvent({eid:"pageview/push/navipic",eid_desc:"\u66dd\u5149/\u63a8\u8350/\u9876\u90e8\u5bfc\u822a\u4f4d",ref:YA.cookie.get("ya_eid")}))}var t;e()}()},ajaxGetAds:function(){var e=TT.app.main+"/cache10min.php?m=Ad&do=ajaxGetAds&type=4&area=24&num=1";HUYA_UTIL.isMobile&&(e=TT.app.main+"/cacheapp.php?m=Ad&do=ajaxGetAds&type=4&area=24&num=1"),$.ajax({url:e,dataType:"jsonp",jsonpCallback:"huyaNavAd",cache:!0}).done(function(e){if(1e3==e.status)if(e.data&&e.data.length){var t=e.data[0];window.localStorage.setItem("header/ads",JSON.stringify(t))}else window.localStorage.removeItem("header/ads");else window.localStorage.removeItem("header/ads"),TT.log("\u83b7\u53d6\u5934\u90e8\u5e7f\u544a\u6570\u636e\u5931\u8d25\uff1a"+e.msg)})}},DUYA_SUB.subscribe("huyaHeaderDomReady",function(){new e},!0)}),$(function(){HUYA_UTIL.getScript("//a.msstatic.com/huya/main/js/header/underscore_3d00f9f.js",function(){HUYA_UTIL.getScript("//a.msstatic.com/huya/main/js/header_search_tip_10ae642.js")})});