!function(){var a=("https:"==location.protocol?"https:":"http:")+"//ylog.hiido.com/j.gif",b=function(){var a=navigator.userAgent.toLowerCase(),b="";try{b=window.external||""}catch(c){b=""}var d,e,f,g,h,i=function(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 1==b++?"":"."}))};try{/windows|win32/i.test(a)?h="windows":/macintosh/i.test(a)?h="macintosh":/rhino/i.test(a)&&(h="rhino"),(e=a.match(/applewebkit\/([^\s]*)/))&&e[1]?(d="webkit",g=i(e[1])):(e=a.match(/presto\/([\d.]*)/))&&e[1]?(d="presto",g=i(e[1])):(e=a.match(/msie\s([^;]*)/))?(d="trident",g=1,(e=a.match(/trident\/([\d.]*)/))&&e[1]&&(g=i(e[1]))):/gecko/.test(a)&&(d="gecko",g=1,(e=a.match(/rv:([\d.]*)/))&&e[1]&&(g=i(e[1]))),/world/.test(a)?f="world":/360se/.test(a)?f="360":/maxthon/.test(a)||"number"==typeof b.max_version?f="maxthon":/tencenttraveler\s([\d.]*)/.test(a)?f="tt":/se\s([\d.]*)/.test(a)&&(f="sogou")}catch(j){}for(var k={OS:h,CORE:d,Version:g,EXTRA:f?f:!1,IE:/msie/.test(a),OPERA:/opera/.test(a),MOZ:/gecko/.test(a)&&!/(compatible|webkit)/.test(a),IE5:/msie 5 /.test(a),IE55:/msie 5.5/.test(a),IE6:/msie 6/.test(a),IE7:/msie 7/.test(a),IE8:/msie 8/.test(a),IE9:/msie 9/.test(a),IE10:/msie 10/.test(a),IE11:/msie 11/.test(a),SAFARI:!/chrome\/([\d.]*)/.test(a)&&/\/([\d.]*) safari/.test(a),CHROME:/chrome\/([\d.]*)/.test(a),IPAD:/\(ipad/i.test(a),IPHONE:/\(iphone/i.test(a),ITOUCH:/\(itouch/i.test(a),MOBILE:/mobile/i.test(a)},l=["IE5","IE55","IE6","IE7","IE8","IE9","IE10","IE11","SAFARI","OPERA","MOZ","CHROME"],m="OTHER",n=0;n<l.length;n++)if(k[l[n]]){m=l[n];break}return k.type=m,k}(),c=function(){var a={set:function(a,b,c){var d,e,f=[],g={expire:null,path:"/",domain:null,secure:null,encode:!0};for(var h in g)h in c&&(g[h]=c[h]);1==g.encode&&(b=escape(b)),f.push(a+"="+b),null!=g.path&&f.push("path="+g.path),null!=g.domain&&f.push("domain="+g.domain),null!=g.secure&&f.push(g.secure),null!=g.expire&&(d=new Date,e=d.getTime()+36e5*g.expire,d.setTime(e),f.push("expires="+d.toGMTString())),document.cookie=f.join(";")},get:function(a){a=a.replace(/([\.\[\]\$])/g,"\\$1");var b=new RegExp(a+"=([^;]*)?;","i"),c=document.cookie+";",d=c.match(b);return d?d[1]||"":""},remove:function(b,c){c=c||{},c.expire=-10,a.set(b,"",c)}};return a}(),d=function(a,c,d){var e={act:"websecloginsta",suc:0,des:"未初始化值",ct:0,st:(new Date).getTime(),bak5:b.type,appid:0,bak2:"",time:Math.floor((new Date).getTime()/1e3),passport:"0",rptype:"99",uid:"0",bak1:"0"};for(var f in e)null==a[f]&&(a[f]=e[f]);var h="act="+encodeURIComponent(a.act)+"&suc="+encodeURIComponent(a.suc)+"&des="+encodeURIComponent(a.des)+"&ct="+encodeURIComponent(a.ct)+"&st="+encodeURIComponent(a.st)+"&bak5="+encodeURIComponent(a.bak5)+"&bak2="+encodeURIComponent(a.bak2)+"&appid="+encodeURIComponent(a.appid)+"&time="+encodeURIComponent(a.time)+"&passport="+encodeURIComponent(a.passport)+"&rptype="+encodeURIComponent(a.rptype)+"&uid="+encodeURIComponent(a.uid)+"&bak1="+encodeURIComponent(a.bak1);g(h,c,d)},e=function(a,b,d){var e=c.get("hiido_ui");e=""==e?Math.random():e;var f=c.get("yyuid"),h=c.get("username"),i={act:"webevent",time:Math.floor((new Date).getTime()/1e3),ui:e,username:"",eventid:"",value:"1",class1:"udb",class2:"ad",eventype:"1",uid:f,username:h,bak1:"",bak2:"",bak3:"",parm1:"",parm2:"",parm3:""};for(var j in i)null==a[j]&&(a[j]=i[j]);var k="act="+encodeURIComponent(a.act)+"&time="+encodeURIComponent(a.time)+"&ui="+encodeURIComponent(a.ui)+"&username="+encodeURIComponent(a.username)+"&eventid="+encodeURIComponent(a.eventid)+"&value="+encodeURIComponent(a.value)+"&class1="+encodeURIComponent(a.class1)+"&class2="+encodeURIComponent(a.class2)+"&eventype="+encodeURIComponent(a.eventype)+"&uid="+encodeURIComponent(a.uid)+"&username="+encodeURIComponent(a.username)+"&bak1="+encodeURIComponent(a.bak1)+"&bak2="+encodeURIComponent(a.bak2)+"&bak3="+encodeURIComponent(a.bak3)+"&parm1="+encodeURIComponent(a.parm1)+"&parm2="+encodeURIComponent(a.parm2)+"&parm3="+encodeURIComponent(a.parm3);g(k,b,d)},f=function(a,b,d){var e=c.get("yyuid"),f={act:"",time:Math.floor((new Date).getTime()/1e3),uid:e};for(var h in f)null==a[h]&&(a[h]=f[h]);var i="act="+encodeURIComponent(a.act);for(var h in a)"act"!=h&&(i+="&"+h+"="+encodeURIComponent(a[h]));g(i,b,d)},g=function(b,c,d){var e=!1,f=new Image;d=d?d:500;var g=function(){if(!e&&null!=c){e=!0;try{c()}catch(a){}}};f.onreadystatechange=function(){("complete"==f.readyState||"loaded"==f.readyState)&&g()},f.onload=function(){1==f.complete&&g()},f.onerror=g,f.src=a+"?"+b,setTimeout(g,d)};window.UDBHiidoStatistics={send:g,sendLogin:d,sendEvent:e,sendCommon:f,browser:b}}(),function(){try{if(null!=window.UDB.sdk.PCWeb)return}catch(ex){}window.UDB={sdk:{}};var blankURL="http:"==location.protocol?"about:blank":"https://res.udb.duowan.com/blank.html",StringUtils={isEmpty:function(a){return null==a||0==a.length?!0:!1},isNotEmpty:function(a){return!StringUtils.isEmpty(a)},end:function(){}},LoadJSAndCSS={loadCSS:function(a){if(!StringUtils.isEmpty(a)){var b=document.getElementsByTagName("head")[0],c=document.createElement("link");c.href=a,c.rel="stylesheet",c.type="text/css",b.appendChild(c)}}},docReady=function(){var a=!(!window.attachEvent||window.opera),b=/webkit\/(\d+)/i.test(navigator.userAgent)&&RegExp.$1<525,c=[],d=function(){for(var a=0;a<c.length;a++)c[a]()},e=document;return function(f){if(!a&&!b&&e.addEventListener)return e.addEventListener("DOMContentLoaded",f,!1);if(!(c.push(f)>1))if(a)!function(){try{e.documentElement.doScroll("left"),d()}catch(a){setTimeout(arguments.callee,0)}}();else if(b)var g=setInterval(function(){/^(loaded|complete)$/.test(e.readyState)&&(clearInterval(g),d())},0)}}(),getXHR=function(){var a=!1;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){a=!1}}}return a},jsonToQuery=function(){var a=function(a,b){return a=null==a?"":a,a=a.toString().replace(/(?:^\s+)|(?:\s+$)/g,""),b?encodeURIComponent(a):a};return function(b,c){var d=[];if("object"==typeof b)for(var e in b)if("$nullName"!==e)if(b[e]instanceof Array)for(var f=0,g=b[e].length;g>f;f++)d.push(e+"="+a(b[e][f],c));else"function"!=typeof b[e]&&d.push(e+"="+a(b[e],c));else d=d.concat(b[e]);return d.length?d.join("&"):""}}(),_ajax=function(opts){var defOpts={url:"",charset:"UTF-8",timeout:3e4,args:{},onComplete:null,onTimeout:function(){},uniqueID:null,onFail:function(){},method:"get",asynchronous:!0,header:{},isEncode:!1,responseType:"json"};for(var p in defOpts)p in opts||(opts[p]=defOpts[p]);var trans=getXHR(),cback=function(){if(4==trans.readyState){clearTimeout(tm);var data="";if("xml"===opts.responseType)data=trans.responseXML;else if("text"===opts.responseType)data=trans.responseText;else try{data=trans.responseText&&"string"==typeof trans.responseText?eval("("+trans.responseText+")"):{}}catch(exp){data=opts.url+"return error : data error"}200==trans.status?null!=opts.onComplete&&opts.onComplete(data):0==trans.status||null!=opts.onFail&&opts.onFail(data,trans)}else null!=opts.onTraning&&opts.onTraning(trans)};if(trans.onreadystatechange=cback,opts.header["Content-Type"]||(opts.header["Content-Type"]="application/x-www-form-urlencoded"),opts.header["X-Requested-With"]||(opts.header["X-Requested-With"]="XMLHttpRequest"),"get"==opts.method.toLocaleLowerCase()){trans.open(opts.method,opts.url,opts.asynchronous);try{for(var k in opts.header)trans.setRequestHeader(k,opts.header[k])}catch(exp){}trans.send("")}else{trans.open(opts.method,opts.url,opts.asynchronous);try{for(var k in opts.header)trans.setRequestHeader(k,opts.header[k])}catch(exp){}trans.send(jsonToQuery(opts.args,opts.isEncode))}return opts.timeout&&(tm=setTimeout(function(){try{trans.abort(),opts.onTimeout({},trans),opts.onFail({},trans)}catch(a){}},opts.timeout)),trans},initStat=!1,readyFun=[],ie6=/msie 6/.test(navigator.userAgent.toLowerCase()),PCWeb={initialize:function(){if(PCWeb.creatPCWebArea()){PCWeb.createOpraCookieArea(),PCWeb.loadFixJSAndCSS(),initStat=!0;for(var a in readyFun)if(readyFun[a])try{readyFun[a]()}catch(b){}}},ready:function(a){if(initStat){if(a)try{a()}catch(b){}}else readyFun.push(a)},creatPCWebArea:function(){var a=document.getElementById("udbsdk_login_normal");if(StringUtils.isNotEmpty(a))return!1;var b=document.createElement("DIV");return b.id="udbsdk_login_normal",b.className="udbsdk_login",b.innerHTML='<iframe id="udbsdk_frm_normal" class="udbsdk_frm"  src="'+blankURL+'" frameborder="0" scrolling="no" allowTransparency="true"></iframe>',document.getElementById("udbsdk_login_content").appendChild(b),!0},creatIE6TipsArea:function(){var a=document.getElementById("udbsdk_login_ie6");if(StringUtils.isNotEmpty(a))return!1;if(document.getElementById("udbsdk_login_content").innerHTML='<div id="udbsdk_login_ie6" class="udbsdk_login_ie6" style="color:#e12;padding-top:64px;padding-left:20px;font-size:14px;text-align:left;">您的浏览器版本过低，请升级浏览器<br />或使用谷歌、火狐等浏览器打开。</div>',null!=window.UDBHiidoStatistics){var b={rptype:84,bak1:1,des:"登录IE6检测"};UDBHiidoStatistics.sendLogin(b,null,3e4)}return!0},creatNoCkTipsArea:function(){var a=document.getElementById("udbsdk_login_nock");return StringUtils.isNotEmpty(a)?!1:(document.getElementById("udbsdk_login_content").innerHTML='<div id="udbsdk_login_nock" class="udbsdk_login_nock" style="color:#e12;padding-top:64px;padding-left:20px;font-size:14px;text-align:left;">浏览器cookie功能被禁用，请<a href="http://kf.yy.com/search/qa/12023.html" style="color:#0c86e4;margin-left:0;" target="_blank">开启</a>后重试</div>',!0)},createOpraCookieArea:function(){var a=document.getElementById("udbsdk_deleteCookieFrm_normal");if(StringUtils.isNotEmpty(a))return!1;var b=document.createElement("DIV");return b.id="udbsdk_cookieFrm",b.style.width="0px",b.style.height="0px",b.innerHTML='<iframe id="udbsdk_writeCookieFrm_normal" src="'+blankURL+'" frameborder="0" scrolling="no" style="width:0px;height:0px;"></iframe><iframe id="udbsdk_deleteCookieFrm_normal" src="'+blankURL+'" frameborder="0" scrolling="no" style="width:0px;height:0px;"></iframe>',document.body.appendChild(b),!0},loadFixJSAndCSS:function(){var a=location.protocol+"//res.udb.duowan.com";LoadJSAndCSS.loadCSS(a+"/lgn/css/oauth/udbsdk/xelogin.sdk.css")},open:function(a,b){if(0==initStat)return void PCWeb.ready(function(){PCWeb.open(a,b)});/^https/.test(a)||(a=a.replace("http","https")),PCWeb.show_div();var c=a;c=c+"&UIStyle="+b+"&rdm="+Math.random(),document.getElementById("udbsdk_frm_normal").src=c},show_div:function(){if(document.getElementById("udbsdk_login_normal").style.display="block",null!=window.UDBHiidoStatistics){var a={rptype:4,suc:3,des:"嵌入式显示",appid:""};UDBHiidoStatistics.sendLogin(a,null,3e4)}},embedOpenLgn:function(jsonstr,regcbkUrl){var data=jsonstr;return ie6?void PCWeb.creatIE6TipsArea():navigator.cookieEnabled?null==data?void alert("fail to get data from server"):("string"==typeof data&&(data=eval("("+jsonstr+")")),void("1"==data.success?(PCWeb.refreshCookie("udboauthtmptoken",data.ttoken,document.domain,"/"),PCWeb.refreshCookie("udboauthtmptokensec",data.ttokensec,document.domain,"/"),null!=regcbkUrl&&regcbkUrl.length&&(data.url=data.url+"&regCallbackURL="+regcbkUrl),PCWeb.open(data.url,"xelogin")):alert(data.errMsg))):void PCWeb.creatNoCkTipsArea()},writeCrossmainCookie:function(a){PCWeb.writeCrossmainCookieWithCallBack(a,null)},writeCrossmainCookieWithCallBack:function(a,b){if(null!=a&&""!=a){var c=a+"&rdm="+Math.random();"https:"==location.protocol&&(c=c.replace(/^http:/i,"https:"));var d=document.getElementById("udbsdk_writeCookieFrm_normal");b&&(d.attachEvent?d.attachEvent("onload",b):d.onload=b),d.src=c}},deleteCrossmainCookie:function(a){PCWeb.deleteCrossmainCookieWithCallBack(a,null)},deleteCrossmainCookieWithCallBack:function(a,b){if(null!=a&&""!=a){var c=a+"&rdm="+Math.random();c=c.replace(/^http:/i,"https:");var d=document.getElementById("udbsdk_deleteCookieFrm_normal");b&&(d.attachEvent?d.attachEvent("onload",b):d.onload=b),PCWeb.deleteCookie("oauthCookiePrivate",document.domain,"/"),d.src=c}},deleteCookie:function(a,b,c){if(PCWeb.hasCookie(a)){var d=new Date;d.setTime(d.getTime()-864e5),document.cookie=a+"=_;expires="+d.toGMTString()+";domain="+b+";path="+c}},writeCookie:function(a,b,c,d,e){var f=a+"="+b+";domain="+c+";path="+d;e>0&&(f=f+";expires="+e.toGMTString()),document.cookie=f},refreshCookie:function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+9e5),PCWeb.writeCookie(a,b,c,d,e)},hasCookie:function(a){return document.cookie.length>0&&(start=document.cookie.indexOf(a+"="),-1!=start)?!0:!1},getCookieVal:function(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c+=1){var d=b[c].split("=");if(d[0]==a)return decodeURIComponent(d[1])}return""},ajax:_ajax,end:""};PCWeb.docReady=docReady,UDB.sdk.PCWeb=PCWeb,docReady(PCWeb.initialize)}();